{"remainingRequest":"D:\\code_by_hk\\kun-cms-vue\\node_modules\\babel-loader\\lib\\index.js!D:\\code_by_hk\\kun-cms-vue\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\code_by_hk\\kun-cms-vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\code_by_hk\\kun-cms-vue\\src\\pages\\Login\\Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\code_by_hk\\kun-cms-vue\\src\\pages\\Login\\Login.vue","mtime":1587634402721},{"path":"D:\\code_by_hk\\kun-cms-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\code_by_hk\\kun-cms-vue\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\code_by_hk\\kun-cms-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\code_by_hk\\kun-cms-vue\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiRDpcXGNvZGVfYnlfaGtcXGt1bi1jbXMtdnVlXFxub2RlX21vZHVsZXNcXEBiYWJlbFxccnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8gQCBpcyBhbiBhbGlhcyB0byAvc3JjCmltcG9ydCBVdGlscyBmcm9tICdAL2t1bi91dGlscy91dGlsJzsKaW1wb3J0IEFkbWluIGZyb20gJ0Ava3VuL2FwaS9hZG1pbic7CmltcG9ydCByb3V0ZXIgZnJvbSAnQC9yb3V0ZXInOyAvLyBpbXBvcnQgeyBTdG9yYWdlIH0gZnJvbSAnQC9rdW4vdXRpbHMvc3RvcmFnZScKLy8gdmFyIHN0b3JhZ2UgPSBuZXcgU3RvcmFnZSgpOwoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdsb2dpbicsCiAgY29tcG9uZW50czoge30sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGxvYWRpbmc6IGZhbHNlLAogICAgICB3YWl0OiAyMDAwLAogICAgICAvLyAyMDAwbXPkuYvlhoXkuI3og73ph43lpI3lj5Hotbfor7fmsYIKICAgICAgdGhyb3R0bGVMb2dpbjogbnVsbCwKICAgICAgLy8g6IqC5rWB55m75b2VCiAgICAgIGZvcm06IHsKICAgICAgICB1c2VybmFtZTogJ2hrJywKICAgICAgICBwYXNzd29yZDogJzIwMTIwOTQyJwogICAgICB9CiAgICB9OwogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHRoaXMudGhyb3R0bGVMb2dpbiA9IFV0aWxzLnRocm90dGxlKHRoaXMubG9naW4sIHRoaXMud2FpdCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBsb2dpbjogZnVuY3Rpb24gbG9naW4oKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHZhciBfdGhpcyRmb3JtLCB1c2VybmFtZSwgcGFzc3dvcmQsIGRhdGEsIHJlc3VsdDsKCiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgLy/nmbvlvZUKICAgICAgICAgICAgICAgIF90aGlzJGZvcm0gPSBfdGhpcy5mb3JtLCB1c2VybmFtZSA9IF90aGlzJGZvcm0udXNlcm5hbWUsIHBhc3N3b3JkID0gX3RoaXMkZm9ybS5wYXNzd29yZDsKICAgICAgICAgICAgICAgIGRhdGEgPSB7CiAgICAgICAgICAgICAgICAgIGFwcGlkOiB1c2VybmFtZSwKICAgICAgICAgICAgICAgICAgYXBwc2VjcmV0OiBwYXNzd29yZAogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSAyOwogICAgICAgICAgICAgICAgX3RoaXMubG9hZGluZyA9IHRydWU7CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNjsKICAgICAgICAgICAgICAgIHJldHVybiBBZG1pbi51c2VyX2xvZ2luKGRhdGEpOwoKICAgICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgICByZXN1bHQgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDEzOwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgOToKICAgICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSA5OwogICAgICAgICAgICAgICAgX2NvbnRleHQudDAgPSBfY29udGV4dFsiY2F0Y2giXSgyKTsKICAgICAgICAgICAgICAgIF90aGlzLmxvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKF9jb250ZXh0LnQwKTsKCiAgICAgICAgICAgICAgY2FzZSAxMzoKICAgICAgICAgICAgICAgIGlmIChyZXN1bHQuZGF0YS5zdGF0ZSA9PSB3aW5kb3cuZy5TVUNDRVNTX1NUQVRFKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzLmxvYWRpbmcgPSBmYWxzZTsgLy8gbGV0IHBhcmFtcyA9IHsKICAgICAgICAgICAgICAgICAgLy8gCW5hbWU6J1VTRVJfSU5GTycsCiAgICAgICAgICAgICAgICAgIC8vIAl2YWx1ZTpyZXN1bHQuZGF0YS5kYXRhLAogICAgICAgICAgICAgICAgICAvLyAJZXhwaXJlczozNjAwMDAKICAgICAgICAgICAgICAgICAgLy8gfQogICAgICAgICAgICAgICAgICAvLyBzdG9yYWdlLnNldF9zdG9yYWdlKHBhcmFtcykKCiAgICAgICAgICAgICAgICAgIF90aGlzLiRzdG9yZS5kaXNwYXRjaCgnSG9tZS9zZXRfdG9rZW4nLCByZXN1bHQuZGF0YS5kYXRhKTsKCiAgICAgICAgICAgICAgICAgIF90aGlzLiRtZXNzYWdlKHsKICAgICAgICAgICAgICAgICAgICB0eXBlOiAnc3VjY2VzcycsCiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogJ+eZu+W9leaIkOWKnyEnCiAgICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgICAgcm91dGVyLnB1c2goJy9ob21lL2RlZmF1bHQnKTsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgIF90aGlzLmxvYWRpbmcgPSBmYWxzZTsKCiAgICAgICAgICAgICAgICAgIF90aGlzLiRub3RpZnkuZXJyb3IoewogICAgICAgICAgICAgICAgICAgIHRpdGxlOiAn6ZSZ6K+vJywKICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiByZXN1bHQuZGF0YS5tc2cKICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGNhc2UgMTQ6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlLCBudWxsLCBbWzIsIDldXSk7CiAgICAgIH0pKSgpOwogICAgfQogIH0KfTs="},{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;AAqBA;AACA,OAAA,KAAA,MAAA,kBAAA;AACA,OAAA,KAAA,MAAA,iBAAA;AACA,OAAA,MAAA,MAAA,UAAA,C,CACA;AACA;;AACA,eAAA;AACA,EAAA,IAAA,EAAA,OADA;AAEA,EAAA,UAAA,EAAA,EAFA;AAIA,EAAA,IAJA,kBAIA;AACA,WAAA;AACA,MAAA,OAAA,EAAA,KADA;AAEA,MAAA,IAAA,EAAA,IAFA;AAEA;AACA,MAAA,aAAA,EAAA,IAHA;AAGA;AACA,MAAA,IAAA,EAAA;AACA,QAAA,QAAA,EAAA,IADA;AAEA,QAAA,QAAA,EAAA;AAFA;AAJA,KAAA;AASA,GAdA;AAeA,EAAA,OAfA,qBAeA;AACA,SAAA,aAAA,GAAA,KAAA,CAAA,QAAA,CAAA,KAAA,KAAA,EAAA,KAAA,IAAA,CAAA;AACA,GAjBA;AAkBA,EAAA,OAAA,EAAA;AACA,IAAA,KADA,mBACA;AAAA;;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6BACA,KAAA,CAAA,IADA,EACA,QADA,cACA,QADA,EACA,QADA,cACA,QADA;AAEA,gBAAA,IAFA,GAEA;AACA,kBAAA,KAAA,EAAA,QADA;AAEA,kBAAA,SAAA,EAAA;AAFA,iBAFA;AAAA;AAQA,gBAAA,KAAA,CAAA,OAAA,GAAA,IAAA;AARA;AAAA,uBASA,KAAA,CAAA,UAAA,CAAA,IAAA,CATA;;AAAA;AASA,gBAAA,MATA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAWA,gBAAA,KAAA,CAAA,OAAA,GAAA,KAAA;AACA,gBAAA,OAAA,CAAA,GAAA;;AAZA;AAcA,oBAAA,MAAA,CAAA,IAAA,CAAA,KAAA,IAAA,MAAA,CAAA,CAAA,CAAA,aAAA,EAAA;AACA,kBAAA,KAAA,CAAA,OAAA,GAAA,KAAA,CADA,CAEA;AACA;AACA;AACA;AACA;AACA;;AACA,kBAAA,KAAA,CAAA,MAAA,CAAA,QAAA,CAAA,gBAAA,EAAA,MAAA,CAAA,IAAA,CAAA,IAAA;;AACA,kBAAA,KAAA,CAAA,QAAA,CAAA;AACA,oBAAA,IAAA,EAAA,SADA;AAEA,oBAAA,OAAA,EAAA;AAFA,mBAAA;;AAIA,kBAAA,MAAA,CAAA,IAAA,CAAA,eAAA;AACA,iBAdA,MAcA;AACA,kBAAA,KAAA,CAAA,OAAA,GAAA,KAAA;;AACA,kBAAA,KAAA,CAAA,OAAA,CAAA,KAAA,CAAA;AACA,oBAAA,KAAA,EAAA,IADA;AAEA,oBAAA,OAAA,EAAA,MAAA,CAAA,IAAA,CAAA;AAFA,mBAAA;AAKA;;AAnCA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAoCA;AArCA;AAlBA,CAAA","sourcesContent":["<template>\n\t<div class=\"login\">\n\t\t<div class=\"team-name hidden-sm-and-down\"><img src=\"@/assets/img/login/team-name.png\" alt=\"logo\" /></div>\r\n\t\t<div class=\"form-box\" v-loading=\"loading\" element-loading-background=\"rgba(0, 0, 0, 0)\">\r\n\t\t\t<div class=\"title\"><h1 title=\"Lin\">Kun CMS</h1></div>\r\n\t\t\t<form class=\"login-form\" autocomplete=\"off\" @submit.prevent=\"throttleLogin()\">\r\n\t\t\t\t<div class=\"form-item nickname\">\r\n\t\t\t\t\t<span class=\"icon account-icon\"></span>\r\n\t\t\t\t\t<input type=\"text\" v-model=\"form.username\" autocomplete=\"off\" placeholder=\"请填写用户名\" />\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"form-item password\">\r\n\t\t\t\t\t<span class=\"icon secret-icon\"></span>\r\n\t\t\t\t\t<input type=\"password\" v-model=\"form.password\" autocomplete=\"off\" placeholder=\"请填写用户登录密码\" />\r\n\t\t\t\t</div>\r\n\t\t\t\t<button class=\"submit-btn\" type=\"submit\">登录</button>\r\n\t\t\t</form>\r\n\t\t</div>\n\t</div>\n</template>\n\n<script>\n// @ is an alias to /src\r\nimport Utils from '@/kun/utils/util'\r\nimport Admin from '@/kun/api/admin'\r\nimport router from '@/router'\n// import { Storage } from '@/kun/utils/storage'\r\n// var storage = new Storage();\nexport default {\n\tname: 'login',\n\tcomponents: {\n\t},\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tloading:false,\r\n\t\t\twait: 2000, // 2000ms之内不能重复发起请求\r\n\t\t\tthrottleLogin: null, // 节流登录\r\n\t\t\tform: {\r\n\t\t\t\tusername: 'hk',\r\n\t\t\t\tpassword: '20120942',\r\n\t\t\t},\r\n\t\t}\r\n\t},\r\n\tmounted() {\r\n\t\tthis.throttleLogin = Utils.throttle(this.login, this.wait)\r\n\t},\r\n\tmethods:{\r\n\t\tasync login(){//登录\r\n\t\t\tconst { username, password } = this.form\r\n\t\t\tlet data = {\r\n\t\t\t\tappid:username,\r\n\t\t\t\tappsecret:password\r\n\t\t\t}\r\n\t\t\tlet result\r\n\t\t\ttry {\r\n\t\t\t\tthis.loading = true\r\n\t\t\t\tresult = await Admin.user_login(data)\r\n\t\t\t} catch (e) {\r\n\t\t\t\tthis.loading = false\r\n\t\t\t\tconsole.log(e)\r\n\t\t\t}\r\n\t\t\tif(result.data.state == window.g.SUCCESS_STATE){\r\n\t\t\t\tthis.loading = false\r\n\t\t\t\t// let params = {\r\n\t\t\t\t// \tname:'USER_INFO',\r\n\t\t\t\t// \tvalue:result.data.data,\r\n\t\t\t\t// \texpires:360000\r\n\t\t\t\t// }\r\n\t\t\t\t// storage.set_storage(params)\r\n\t\t\t\tthis.$store.dispatch('Home/set_token',result.data.data)\r\n\t\t\t\tthis.$message({\r\n\t\t\t\t\ttype: 'success',\r\n\t\t\t\t\tmessage: '登录成功!'\r\n\t\t\t\t});\r\n\t\t\t\trouter.push('/home/default')\r\n\t\t\t}else{\r\n\t\t\t\tthis.loading = false\r\n\t\t\t\tthis.$notify.error({\r\n\t\t\t\t\ttitle: '错误',\r\n\t\t\t\t\tmessage: result.data.msg\r\n\t\t\t\t\t\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t}\n}\n</script>\r\n<style scoped=\"scoped\" lang=\"scss\">\r\n.login{\r\n\twidth: 100%;\r\n\theight: 100%;\r\n\tbackground-size: auto;\r\n\tbackground: #1b2c5f url('../../assets/img/login/login-ba.png') no-repeat center center;\r\n\t.team-name {\r\n\t\tposition: fixed;\r\n\t\tleft: 40px;\r\n\t\ttop: 50%;\r\n\t\twidth: 50px;\r\n\t\ttransform: translateY(-50%);\r\n\t}\r\n\t\r\n\t.form-box {\r\n\t\tposition: fixed;\r\n\t\tleft: 50%;\r\n\t\ttop: 50%;\r\n\t\ttransform: translate(-50%, -50%);\r\n\t\twidth: 445px;\r\n\r\n\t\t.title {\r\n\t\t\theight: 37px;\r\n\t\t\tfont-size: 30px;\r\n\t\t\tline-height: 37px;\r\n\t\t\tmargin-bottom: 15%;\r\n\r\n\t\th1 {\r\n\t\t\tpadding-left: 74px;\r\n\t\t\tbox-sizing: border-box;\r\n\t\t\ttext-align: left;\r\n\t\t\tcolor: #8c98ae;\r\n\t\t}\r\n\t\t}\r\n\t\r\n\t\t.login-form {\r\n\t\t\twidth: 100%;\r\n\t\r\n\t\t\t.form-item {\r\n\t\t\t\twidth: 100%;\r\n\t\t\t\theight: 40px;\r\n\t\t\t\tbox-sizing: border-box;\r\n\t\t\t\tpadding-bottom: 13px;\r\n\t\t\t\tmargin-bottom: 34px;\r\n\t\t\r\n\t\t\t\tinput {\r\n\t\t\t\t\twidth: 100%;\r\n\t\t\t\t\theight: 100%;\r\n\t\t\t\t\tbackground: transparent;\r\n\t\t\t\t\tcolor: #c4c9d2;\r\n\t\t\t\t\tfont-size: 14px;\r\n\t\t\t\t\tpadding-left: 74px;\r\n\t\t\t\t\tbox-sizing: border-box;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\r\n\t\t\t.form-item.nickname {\r\n\t\t\t\tbackground: url('../../assets/img/login/nickname.png') no-repeat;\r\n\t\t\t\tbackground-size: 100% auto;\r\n\t\t\t\tbackground-position: left bottom;\r\n\t\t\t}\r\n\t\t\r\n\t\t\t.form-item.password {\r\n\t\t\t\tbackground: url('../../assets/img/login/password.png') no-repeat;\r\n\t\t\t\tbackground-size: 100% auto;\r\n\t\t\t\tbackground-position: left bottom;\r\n\t\t\t}\r\n\t\t\r\n\t\t\t.submit-btn {\r\n\t\t\t\twidth: 100%;\r\n\t\t\t\theight: 70px;\r\n\t\t\t\tcolor: #c4c9d2;\r\n\t\t\t\tfont-size: 16px;\r\n\t\t\t\ttext-align: left;\r\n\t\t\t\tbox-sizing: border-box;\r\n\t\t\t\tpadding: 0 10px;\r\n\t\t\t\tpadding-left: 74px;\r\n\t\t\t\tbackground: url('../../assets/img/login/login-btn.png') no-repeat;\r\n\t\t\t\tbackground-size: 90% auto;\r\n\t\t\t\tbackground-position: center bottom;\r\n\t\t\t\tborder: none;\r\n\t\t\t\tcursor: pointer;\r\n\t\t\t\toutline:none;\r\n\t\t\t\t&:active{\r\n\t\t\t\t\topacity: 0.8;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n</style>\n"],"sourceRoot":"src/pages/Login"}]}