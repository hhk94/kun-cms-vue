{"remainingRequest":"D:\\code_by_hk\\kun-cms-vue\\node_modules\\babel-loader\\lib\\index.js!D:\\code_by_hk\\kun-cms-vue\\node_modules\\eslint-loader\\index.js??ref--13-0!D:\\code_by_hk\\kun-cms-vue\\src\\kun\\plugins\\axios.js","dependencies":[{"path":"D:\\code_by_hk\\kun-cms-vue\\src\\kun\\plugins\\axios.js","mtime":1586769329807},{"path":"D:\\code_by_hk\\kun-cms-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\code_by_hk\\kun-cms-vue\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\code_by_hk\\kun-cms-vue\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5pbmRleC1vZiI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5rZXlzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2giOwppbXBvcnQgX3R5cGVvZiBmcm9tICJEOlxcY29kZV9ieV9oa1xca3VuLWNtcy12dWVcXG5vZGVfbW9kdWxlc1xcQGJhYmVsXFxydW50aW1lL2hlbHBlcnMvZXNtL3R5cGVvZiI7CmltcG9ydCBfb2JqZWN0U3ByZWFkIGZyb20gIkQ6XFxjb2RlX2J5X2hrXFxrdW4tY21zLXZ1ZVxcbm9kZV9tb2R1bGVzXFxAYmFiZWxcXHJ1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMiI7Ci8vIGFqYXgg5bCB6KOF5o+S5Lu2LCDkvb/nlKggYXhpb3MKaW1wb3J0IFZ1ZSBmcm9tICd2dWUnOwppbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnOwppbXBvcnQgQ29uZmlnIGZyb20gJ0AvY29uZmlnJzsgLy8gaW1wb3J0IEVycm9yQ29kZSBmcm9tICdAL2NvbmZpZy9lcnJvci1jb2RlJwovLyBpbXBvcnQgc3RvcmUgZnJvbSAnQC9zdG9yZScKLy8gaW1wb3J0IHsgZ2V0VG9rZW4sIHNhdmVBY2Nlc3NUb2tlbiB9IGZyb20gJ0AvbGluL3V0aWxzL3Rva2VuJwoKdmFyIGNvbmZpZyA9IHsKICBiYXNlVVJMOiBDb25maWcuYmFzZVVSTCB8fCBwcm9jZXNzLmVudi5hcGlVcmwgfHwgJycsCiAgdGltZW91dDogNSAqIDEwMDAsCiAgLy8g6K+35rGC6LaF5pe25pe26Ze06K6+572uCiAgY3Jvc3NEb21haW46IHRydWUsCiAgLy8gd2l0aENyZWRlbnRpYWxzOiB0cnVlLCAvLyBDaGVjayBjcm9zcy1zaXRlIEFjY2Vzcy1Db250cm9sCiAgLy8g5a6a5LmJ5Y+v6I635b6X55qEaHR0cOWTjeW6lOeKtuaAgeeggQogIC8vIHJldHVybiB0cnVl44CB6K6+572u5Li6bnVsbOaIluiAhXVuZGVmaW5lZO+8jHByb21pc2XlsIZyZXNvbHZlZCzlkKbliJnlsIZyZWplY3RlZAogIHZhbGlkYXRlU3RhdHVzOiBmdW5jdGlvbiB2YWxpZGF0ZVN0YXR1cyhzdGF0dXMpIHsKICAgIHJldHVybiBzdGF0dXMgPj0gMjAwICYmIHN0YXR1cyA8IDUxMDsKICB9Cn07IC8vIGNvbnN0IHJldHJ5VGltZSA9IDIgLy8g6K+35rGC5aSx6LSl6YeN6K+V5qyh5pWwCi8vIGNvbnN0IHJldHJ5RGVsYXkgPSAxNTAwIC8vIOivt+axguWksei0pemHjeivlemXtOmalAovLyDliJvlu7ror7fmsYLlrp7kvosKCnZhciBfYXhpb3MgPSBheGlvcy5jcmVhdGUoY29uZmlnKTsKCl9heGlvcy5pbnRlcmNlcHRvcnMucmVxdWVzdC51c2UoZnVuY3Rpb24gKG9yaWdpbkNvbmZpZykgewogIC8vIOaciSBBUEkg6K+35rGC6YeN5paw6K6h5pe2CiAgVnVlLnByb3RvdHlwZS4kX2xpbl9qdW1wKCk7CgogIHZhciByZXFDb25maWcgPSBfb2JqZWN0U3ByZWFkKHt9LCBvcmlnaW5Db25maWcpOyAvLyBzdGVwMTog5a656ZSZ5aSE55CGCgoKICBpZiAoIXJlcUNvbmZpZy51cmwpIHsKICAgIC8qIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSAqLwogICAgY29uc29sZS5lcnJvcigncmVxdWVzdCBuZWVkIHVybCcpOwogICAgdGhyb3cgbmV3IEVycm9yKHsKICAgICAgc291cmNlOiAnYXhpb3NJbnRlcmNlcHRvcnMnLAogICAgICBtZXNzYWdlOiAncmVxdWVzdCBuZWVkIHVybCcKICAgIH0pOwogIH0KCiAgaWYgKCFyZXFDb25maWcubWV0aG9kKSB7CiAgICAvLyDpu5jorqTkvb/nlKggZ2V0IOivt+axggogICAgcmVxQ29uZmlnLm1ldGhvZCA9ICdnZXQnOwogIH0gLy8g5aSn5bCP5YaZ5a656ZSZCgoKICByZXFDb25maWcubWV0aG9kID0gcmVxQ29uZmlnLm1ldGhvZC50b0xvd2VyQ2FzZSgpOyAvLyDlj4LmlbDlrrnplJkKCiAgaWYgKHJlcUNvbmZpZy5tZXRob2QgPT09ICdnZXQnKSB7CiAgICBpZiAoIXJlcUNvbmZpZy5wYXJhbXMpIHsKICAgICAgLy8g6Ziy5q2i5a2X5q6155So6ZSZCiAgICAgIHJlcUNvbmZpZy5wYXJhbXMgPSByZXFDb25maWcuZGF0YSB8fCB7fTsKICAgIH0KICB9IGVsc2UgaWYgKHJlcUNvbmZpZy5tZXRob2QgPT09ICdwb3N0JykgewogICAgaWYgKCFyZXFDb25maWcuZGF0YSkgewogICAgICAvLyDpmLLmraLlrZfmrrXnlKjplJkKICAgICAgcmVxQ29uZmlnLmRhdGEgPSByZXFDb25maWcucGFyYW1zIHx8IHt9OwogICAgfSAvLyDmo4DmtYvmmK/lkKbljIXlkKvmlofku7bnsbvlnossIOiLpeWMheWQq+WImei/m+ihjCBmb3JtRGF0YSDlsIHoo4UKCgogICAgdmFyIGhhc0ZpbGUgPSBmYWxzZTsKICAgIE9iamVjdC5rZXlzKHJlcUNvbmZpZy5kYXRhKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsKICAgICAgaWYgKF90eXBlb2YocmVxQ29uZmlnLmRhdGFba2V5XSkgPT09ICdvYmplY3QnKSB7CiAgICAgICAgdmFyIGl0ZW0gPSByZXFDb25maWcuZGF0YVtrZXldOwoKICAgICAgICBpZiAoaXRlbSBpbnN0YW5jZW9mIEZpbGVMaXN0IHx8IGl0ZW0gaW5zdGFuY2VvZiBGaWxlIHx8IGl0ZW0gaW5zdGFuY2VvZiBCbG9iKSB7CiAgICAgICAgICBoYXNGaWxlID0gdHJ1ZTsKICAgICAgICB9CiAgICAgIH0KICAgIH0pOyAvLyDmo4DmtYvliLDlrZjlnKjmlofku7bkvb/nlKggRm9ybURhdGEg5o+Q5Lqk5pWw5o2uCgogICAgaWYgKGhhc0ZpbGUpIHsKICAgICAgdmFyIGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKCk7CiAgICAgIE9iamVjdC5rZXlzKHJlcUNvbmZpZy5kYXRhKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsKICAgICAgICBmb3JtRGF0YS5hcHBlbmQoa2V5LCByZXFDb25maWcuZGF0YVtrZXldKTsKICAgICAgfSk7CiAgICAgIHJlcUNvbmZpZy5kYXRhID0gZm9ybURhdGE7CiAgICB9CiAgfSBlbHNlIHsKICAgIC8vIFRPRE86IOWFtuS7luexu+Wei+ivt+axguaVsOaNruagvOW8j+WkhOeQhgoKICAgIC8qIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSAqLwogICAgY29uc29sZS53YXJuKCJcdTUxNzZcdTRFRDZcdThCRjdcdTZDNDJcdTdDN0JcdTU3OEI6ICIuY29uY2F0KHJlcUNvbmZpZy5tZXRob2QsICIsIFx1NjY4Mlx1NjVFMFx1ODFFQVx1NTJBOFx1NTkwNFx1NzQwNiIpKTsKICB9IC8vIHN0ZXAyOiBwZXJtaXNzaW9uIOWkhOeQhgoKCiAgaWYgKHJlcUNvbmZpZy51cmwgPT09ICdjbXMvdXNlci9yZWZyZXNoJykgey8vIGNvbnN0IHJlZnJlc2hUb2tlbiA9IGdldFRva2VuKCdyZWZyZXNoX3Rva2VuJykKICAgIC8vIGlmIChyZWZyZXNoVG9rZW4pIHsKICAgIC8vICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXBhcmFtLXJlYXNzaWduCiAgICAvLyAgIHJlcUNvbmZpZy5oZWFkZXJzLkF1dGhvcml6YXRpb24gPSByZWZyZXNoVG9rZW4KICAgIC8vIH0KICB9IGVsc2Ugey8vIOaciWFjY2Vzc190b2tlbgogICAgICAvLyBjb25zdCBhY2Nlc3NUb2tlbiA9IGdldFRva2VuKCdhY2Nlc3NfdG9rZW4nKQogICAgICAvLyBpZiAoYWNjZXNzVG9rZW4pIHsKICAgICAgLy8gICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcGFyYW0tcmVhc3NpZ24KICAgICAgLy8gICByZXFDb25maWcuaGVhZGVycy5BdXRob3JpemF0aW9uID0gYWNjZXNzVG9rZW4KICAgICAgLy8gfQogICAgfQoKICByZXR1cm4gcmVxQ29uZmlnOwp9LCBmdW5jdGlvbiAoZXJyb3IpIHsKICBQcm9taXNlLnJlamVjdChlcnJvcik7Cn0pOyAvLyBBZGQgYSByZXNwb25zZSBpbnRlcmNlcHRvcgoKCl9heGlvcy5pbnRlcmNlcHRvcnMucmVzcG9uc2UudXNlKGZ1bmN0aW9uIChyZXMpIHsKICBjb25zb2xlLmxvZyhyZXMpOwp9LCBmdW5jdGlvbiAoZXJyb3IpIHsKICBpZiAoIWVycm9yLnJlc3BvbnNlKSB7CiAgICBWdWUucHJvdG90eXBlLiRub3RpZnkoewogICAgICB0aXRsZTogJ05ldHdvcmsgRXJyb3InLAogICAgICBkYW5nZXJvdXNseVVzZUhUTUxTdHJpbmc6IHRydWUsCiAgICAgIG1lc3NhZ2U6ICc8c3Ryb25nIGNsYXNzPSJteS1ub3RpZnkiPuivt+ajgOafpSBBUEkg5piv5ZCm5byC5bi4PC9zdHJvbmc+JwogICAgfSk7CiAgICBjb25zb2xlLmxvZygnZXJyb3InLCBlcnJvcik7CiAgfSAvLyDliKTmlq3or7fmsYLotoXml7YKCgogIGlmIChlcnJvci5jb2RlID09PSAnRUNPTk5BQk9SVEVEJyAmJiBlcnJvci5tZXNzYWdlLmluZGV4T2YoJ3RpbWVvdXQnKSAhPT0gLTEpIHsKICAgIFZ1ZS5wcm90b3R5cGUuJG1lc3NhZ2UoewogICAgICB0eXBlOiAnd2FybmluZycsCiAgICAgIG1lc3NhZ2U6ICfor7fmsYLotoXml7YnCiAgICB9KTsKICB9CgogIHJldHVybiBQcm9taXNlLnJlamVjdChlcnJvcik7Cn0pOyAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUKCgpQbHVnaW4uaW5zdGFsbCA9IGZ1bmN0aW9uIChWdWUsIG9wdGlvbnMpIHsKICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUKICBWdWUuYXhpb3MgPSBfYXhpb3M7CiAgd2luZG93LmF4aW9zID0gX2F4aW9zOwogIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKFZ1ZS5wcm90b3R5cGUsIHsKICAgIGF4aW9zOiB7CiAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICAgIHJldHVybiBfYXhpb3M7CiAgICAgIH0KICAgIH0sCiAgICAkYXhpb3M6IHsKICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgICAgcmV0dXJuIF9heGlvczsKICAgICAgfQogICAgfQogIH0pOwp9OwoKaWYgKCFWdWUuYXhpb3MpIHsKICBWdWUudXNlKFBsdWdpbik7Cn0gLy8g5a+85Ye65bi455So5Ye95pWwCgovKioNCiAqIEBwYXJhbSB7c3RyaW5nfSB1cmwNCiAqIEBwYXJhbSB7b2JqZWN0fSBkYXRhDQogKiBAcGFyYW0ge29iamVjdH0gcGFyYW1zDQogKi8KCgpleHBvcnQgZnVuY3Rpb24gcG9zdCh1cmwpIHsKICB2YXIgZGF0YSA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDoge307CiAgdmFyIHBhcmFtcyA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDoge307CiAgcmV0dXJuIF9heGlvcyh7CiAgICBtZXRob2Q6ICdwb3N0JywKICAgIHVybDogdXJsLAogICAgZGF0YTogZGF0YSwKICAgIHBhcmFtczogcGFyYW1zCiAgfSk7Cn0KLyoqDQogKiBAcGFyYW0ge3N0cmluZ30gdXJsDQogKiBAcGFyYW0ge29iamVjdH0gcGFyYW1zDQogKi8KCmV4cG9ydCBmdW5jdGlvbiBnZXQodXJsKSB7CiAgdmFyIHBhcmFtcyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDoge307CiAgcmV0dXJuIF9heGlvcyh7CiAgICBtZXRob2Q6ICdnZXQnLAogICAgdXJsOiB1cmwsCiAgICBwYXJhbXM6IHBhcmFtcwogIH0pOwp9Ci8qKg0KICogQHBhcmFtIHtzdHJpbmd9IHVybA0KICogQHBhcmFtIHtvYmplY3R9IGRhdGENCiAqIEBwYXJhbSB7b2JqZWN0fSBwYXJhbXMNCiAqLwoKZXhwb3J0IGZ1bmN0aW9uIHB1dCh1cmwpIHsKICB2YXIgZGF0YSA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDoge307CiAgdmFyIHBhcmFtcyA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDoge307CiAgcmV0dXJuIF9heGlvcyh7CiAgICBtZXRob2Q6ICdwdXQnLAogICAgdXJsOiB1cmwsCiAgICBwYXJhbXM6IHBhcmFtcywKICAgIGRhdGE6IGRhdGEKICB9KTsKfQovKioNCiAqIEBwYXJhbSB7c3RyaW5nfSB1cmwNCiAqIEBwYXJhbSB7b2JqZWN0fSBwYXJhbXMNCiAqLwoKZXhwb3J0IGZ1bmN0aW9uIF9kZWxldGUodXJsKSB7CiAgdmFyIHBhcmFtcyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDoge307CiAgcmV0dXJuIF9heGlvcyh7CiAgICBtZXRob2Q6ICdkZWxldGUnLAogICAgdXJsOiB1cmwsCiAgICBwYXJhbXM6IHBhcmFtcwogIH0pOwp9CmV4cG9ydCBkZWZhdWx0IF9heGlvczs="},{"version":3,"sources":["D:/code_by_hk/kun-cms-vue/src/kun/plugins/axios.js"],"names":["Vue","axios","Config","config","baseURL","process","env","apiUrl","timeout","crossDomain","validateStatus","status","_axios","create","interceptors","request","use","originConfig","prototype","$_lin_jump","reqConfig","url","console","error","Error","source","message","method","toLowerCase","params","data","hasFile","Object","keys","forEach","key","item","FileList","File","Blob","formData","FormData","append","warn","Promise","reject","response","res","log","$notify","title","dangerouslyUseHTMLString","code","indexOf","$message","type","Plugin","install","options","window","defineProperties","get","$axios","post","put","_delete"],"mappings":"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","sourcesContent":["// ajax 封装插件, 使用 axios\r\nimport Vue from 'vue'\r\nimport axios from 'axios'\r\nimport Config from '@/config'\r\n// import ErrorCode from '@/config/error-code'\r\n// import store from '@/store'\r\n// import { getToken, saveAccessToken } from '@/lin/utils/token'\r\n\r\nconst config = {\r\n  baseURL: Config.baseURL || process.env.apiUrl || '',\r\n  timeout: 5 * 1000, // 请求超时时间设置\r\n  crossDomain: true,\r\n  // withCredentials: true, // Check cross-site Access-Control\r\n  // 定义可获得的http响应状态码\r\n  // return true、设置为null或者undefined，promise将resolved,否则将rejected\r\n  validateStatus(status) {\r\n    return status >= 200 && status < 510\r\n  },\r\n}\r\n\r\n// const retryTime = 2 // 请求失败重试次数\r\n// const retryDelay = 1500 // 请求失败重试间隔\r\n\r\n// 创建请求实例\r\nconst _axios = axios.create(config)\r\n\r\n_axios.interceptors.request.use(\r\n  originConfig => {\r\n    // 有 API 请求重新计时\r\n    Vue.prototype.$_lin_jump()\r\n\r\n    const reqConfig = { ...originConfig }\r\n\r\n    // step1: 容错处理\r\n    if (!reqConfig.url) {\r\n      /* eslint-disable-next-line */\r\n      console.error('request need url')\r\n      throw new Error({\r\n        source: 'axiosInterceptors',\r\n        message: 'request need url',\r\n      })\r\n    }\r\n\r\n    if (!reqConfig.method) {\r\n      // 默认使用 get 请求\r\n      reqConfig.method = 'get'\r\n    }\r\n    // 大小写容错\r\n    reqConfig.method = reqConfig.method.toLowerCase()\r\n\r\n    // 参数容错\r\n    if (reqConfig.method === 'get') {\r\n      if (!reqConfig.params) {\r\n        // 防止字段用错\r\n        reqConfig.params = reqConfig.data || {}\r\n      }\r\n    } else if (reqConfig.method === 'post') {\r\n      if (!reqConfig.data) {\r\n        // 防止字段用错\r\n        reqConfig.data = reqConfig.params || {}\r\n      }\r\n\r\n      // 检测是否包含文件类型, 若包含则进行 formData 封装\r\n      let hasFile = false\r\n      Object.keys(reqConfig.data).forEach(key => {\r\n        if (typeof reqConfig.data[key] === 'object') {\r\n          const item = reqConfig.data[key]\r\n          if (item instanceof FileList || item instanceof File || item instanceof Blob) {\r\n            hasFile = true\r\n          }\r\n        }\r\n      })\r\n\r\n      // 检测到存在文件使用 FormData 提交数据\r\n      if (hasFile) {\r\n        const formData = new FormData()\r\n        Object.keys(reqConfig.data).forEach(key => {\r\n          formData.append(key, reqConfig.data[key])\r\n        })\r\n        reqConfig.data = formData\r\n      }\r\n    } else {\r\n      // TODO: 其他类型请求数据格式处理\r\n      /* eslint-disable-next-line */\r\n      console.warn(`其他请求类型: ${reqConfig.method}, 暂无自动处理`)\r\n    }\r\n    // step2: permission 处理\r\n    if (reqConfig.url === 'cms/user/refresh') {\r\n      // const refreshToken = getToken('refresh_token')\r\n      // if (refreshToken) {\r\n      //   // eslint-disable-next-line no-param-reassign\r\n      //   reqConfig.headers.Authorization = refreshToken\r\n      // }\r\n    } else {\r\n      // 有access_token\r\n      // const accessToken = getToken('access_token')\r\n      // if (accessToken) {\r\n      //   // eslint-disable-next-line no-param-reassign\r\n      //   reqConfig.headers.Authorization = accessToken\r\n      // }\r\n    }\r\n    return reqConfig\r\n  },\r\n  error => {\r\n    Promise.reject(error)\r\n  },\r\n)\r\n\r\n// Add a response interceptor\r\n_axios.interceptors.response.use(\r\n\tres => {\r\n\t\tconsole.log(res)\r\n    \r\n  },\r\n  error => {\r\n    if (!error.response) {\r\n      Vue.prototype.$notify({\r\n        title: 'Network Error',\r\n        dangerouslyUseHTMLString: true,\r\n        message: '<strong class=\"my-notify\">请检查 API 是否异常</strong>',\r\n      })\r\n      console.log('error', error)\r\n    }\r\n\r\n    // 判断请求超时\r\n    if (error.code === 'ECONNABORTED' && error.message.indexOf('timeout') !== -1) {\r\n      Vue.prototype.$message({\r\n        type: 'warning',\r\n        message: '请求超时',\r\n      })\r\n    }\r\n    return Promise.reject(error)\r\n  },\r\n)\r\n\r\n// eslint-disable-next-line\r\nPlugin.install = function(Vue, options) {\r\n  // eslint-disable-next-line\r\n  Vue.axios = _axios\r\n  window.axios = _axios\r\n  Object.defineProperties(Vue.prototype, {\r\n    axios: {\r\n      get() {\r\n        return _axios\r\n      },\r\n    },\r\n    $axios: {\r\n      get() {\r\n        return _axios\r\n      },\r\n    },\r\n  })\r\n}\r\n\r\nif (!Vue.axios) {\r\n  Vue.use(Plugin)\r\n}\r\n\r\n// 导出常用函数\r\n\r\n/**\r\n * @param {string} url\r\n * @param {object} data\r\n * @param {object} params\r\n */\r\nexport function post(url, data = {}, params = {}) {\r\n  return _axios({\r\n    method: 'post',\r\n    url,\r\n    data,\r\n    params,\r\n  })\r\n}\r\n\r\n/**\r\n * @param {string} url\r\n * @param {object} params\r\n */\r\nexport function get(url, params = {}) {\r\n  return _axios({\r\n    method: 'get',\r\n    url,\r\n    params,\r\n  })\r\n}\r\n\r\n/**\r\n * @param {string} url\r\n * @param {object} data\r\n * @param {object} params\r\n */\r\nexport function put(url, data = {}, params = {}) {\r\n  return _axios({\r\n    method: 'put',\r\n    url,\r\n    params,\r\n    data,\r\n  })\r\n}\r\n\r\n/**\r\n * @param {string} url\r\n * @param {object} params\r\n */\r\nexport function _delete(url, params = {}) {\r\n  return _axios({\r\n    method: 'delete',\r\n    url,\r\n    params,\r\n  })\r\n}\r\n\r\nexport default _axios\r\n"]}]}