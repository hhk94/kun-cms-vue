{"remainingRequest":"D:\\code_by_hk\\kun-cms-vue\\node_modules\\babel-loader\\lib\\index.js!D:\\code_by_hk\\kun-cms-vue\\node_modules\\eslint-loader\\index.js??ref--13-0!D:\\code_by_hk\\kun-cms-vue\\src\\kun\\plugins\\axios.js","dependencies":[{"path":"D:\\code_by_hk\\kun-cms-vue\\src\\kun\\plugins\\axios.js","mtime":1586923472266},{"path":"D:\\code_by_hk\\kun-cms-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\code_by_hk\\kun-cms-vue\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\code_by_hk\\kun-cms-vue\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5pbmRleC1vZiI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5rZXlzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2giOwppbXBvcnQgX3R5cGVvZiBmcm9tICJEOlxcY29kZV9ieV9oa1xca3VuLWNtcy12dWVcXG5vZGVfbW9kdWxlc1xcQGJhYmVsXFxydW50aW1lL2hlbHBlcnMvZXNtL3R5cGVvZiI7CmltcG9ydCBfb2JqZWN0U3ByZWFkIGZyb20gIkQ6XFxjb2RlX2J5X2hrXFxrdW4tY21zLXZ1ZVxcbm9kZV9tb2R1bGVzXFxAYmFiZWxcXHJ1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMiI7Ci8vIGFqYXgg5bCB6KOF5o+S5Lu2LCDkvb/nlKggYXhpb3MKaW1wb3J0IFZ1ZSBmcm9tICd2dWUnOwppbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnOwppbXBvcnQgQ29uZmlnIGZyb20gJ0AvY29uZmlnJzsgLy8gaW1wb3J0IEVycm9yQ29kZSBmcm9tICdAL2NvbmZpZy9lcnJvci1jb2RlJwoKaW1wb3J0IHN0b3JlIGZyb20gJ0Avc3RvcmUnOyAvLyBpbXBvcnQgeyBnZXRUb2tlbiwgc2F2ZUFjY2Vzc1Rva2VuIH0gZnJvbSAnQC9saW4vdXRpbHMvdG9rZW4nCgp2YXIgY29uZmlnID0gewogIGJhc2VVUkw6IENvbmZpZy5iYXNlVVJMIHx8IHByb2Nlc3MuZW52LmFwaVVybCB8fCAnJywKICB0aW1lb3V0OiA1ICogMTAwMCwKICAvLyDor7fmsYLotoXml7bml7bpl7Torr7nva4KICBjcm9zc0RvbWFpbjogdHJ1ZSwKICAvLyB3aXRoQ3JlZGVudGlhbHM6IHRydWUsIC8vIENoZWNrIGNyb3NzLXNpdGUgQWNjZXNzLUNvbnRyb2wKICAvLyDlrprkuYnlj6/ojrflvpfnmoRodHRw5ZON5bqU54q25oCB56CBCiAgLy8gcmV0dXJuIHRydWXjgIHorr7nva7kuLpudWxs5oiW6ICFdW5kZWZpbmVk77yMcHJvbWlzZeWwhnJlc29sdmVkLOWQpuWImeWwhnJlamVjdGVkCiAgdmFsaWRhdGVTdGF0dXM6IGZ1bmN0aW9uIHZhbGlkYXRlU3RhdHVzKHN0YXR1cykgewogICAgcmV0dXJuIHN0YXR1cyA+PSAyMDAgJiYgc3RhdHVzIDwgNTEwOwogIH0KfTsgLy8gY29uc3QgcmV0cnlUaW1lID0gMiAvLyDor7fmsYLlpLHotKXph43or5XmrKHmlbAKLy8gY29uc3QgcmV0cnlEZWxheSA9IDE1MDAgLy8g6K+35rGC5aSx6LSl6YeN6K+V6Ze06ZqUCi8vIOWIm+W7uuivt+axguWunuS+iwoKdmFyIF9heGlvcyA9IGF4aW9zLmNyZWF0ZShjb25maWcpOwoKX2F4aW9zLmludGVyY2VwdG9ycy5yZXF1ZXN0LnVzZShmdW5jdGlvbiAob3JpZ2luQ29uZmlnKSB7CiAgLy8g5pyJIEFQSSDor7fmsYLph43mlrDorqHml7YKICAvLyBWdWUucHJvdG90eXBlLiRfbGluX2p1bXAoKQogIHZhciByZXFDb25maWcgPSBfb2JqZWN0U3ByZWFkKHt9LCBvcmlnaW5Db25maWcpOyAvLyBzdGVwMTog5a656ZSZ5aSE55CGCgoKICBpZiAoIXJlcUNvbmZpZy51cmwpIHsKICAgIC8qIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSAqLwogICAgY29uc29sZS5lcnJvcigncmVxdWVzdCBuZWVkIHVybCcpOwogICAgdGhyb3cgbmV3IEVycm9yKHsKICAgICAgc291cmNlOiAnYXhpb3NJbnRlcmNlcHRvcnMnLAogICAgICBtZXNzYWdlOiAncmVxdWVzdCBuZWVkIHVybCcKICAgIH0pOwogIH0KCiAgaWYgKCFyZXFDb25maWcubWV0aG9kKSB7CiAgICAvLyDpu5jorqTkvb/nlKggZ2V0IOivt+axggogICAgcmVxQ29uZmlnLm1ldGhvZCA9ICdnZXQnOwogIH0gLy8g5aSn5bCP5YaZ5a656ZSZCgoKICByZXFDb25maWcubWV0aG9kID0gcmVxQ29uZmlnLm1ldGhvZC50b0xvd2VyQ2FzZSgpOyAvLyDlj4LmlbDlrrnplJkKCiAgaWYgKHJlcUNvbmZpZy5tZXRob2QgPT09ICdnZXQnKSB7CiAgICBpZiAoIXJlcUNvbmZpZy5wYXJhbXMpIHsKICAgICAgLy8g6Ziy5q2i5a2X5q6155So6ZSZCiAgICAgIHJlcUNvbmZpZy5wYXJhbXMgPSByZXFDb25maWcuZGF0YSB8fCB7fTsKICAgIH0KICB9IGVsc2UgaWYgKHJlcUNvbmZpZy5tZXRob2QgPT09ICdwb3N0JykgewogICAgaWYgKCFyZXFDb25maWcuZGF0YSkgewogICAgICAvLyDpmLLmraLlrZfmrrXnlKjplJkKICAgICAgcmVxQ29uZmlnLmRhdGEgPSByZXFDb25maWcucGFyYW1zIHx8IHt9OwogICAgfSAvLyDmo4DmtYvmmK/lkKbljIXlkKvmlofku7bnsbvlnossIOiLpeWMheWQq+WImei/m+ihjCBmb3JtRGF0YSDlsIHoo4UKCgogICAgdmFyIGhhc0ZpbGUgPSBmYWxzZTsKICAgIE9iamVjdC5rZXlzKHJlcUNvbmZpZy5kYXRhKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsKICAgICAgaWYgKF90eXBlb2YocmVxQ29uZmlnLmRhdGFba2V5XSkgPT09ICdvYmplY3QnKSB7CiAgICAgICAgdmFyIGl0ZW0gPSByZXFDb25maWcuZGF0YVtrZXldOwoKICAgICAgICBpZiAoaXRlbSBpbnN0YW5jZW9mIEZpbGVMaXN0IHx8IGl0ZW0gaW5zdGFuY2VvZiBGaWxlIHx8IGl0ZW0gaW5zdGFuY2VvZiBCbG9iKSB7CiAgICAgICAgICBoYXNGaWxlID0gdHJ1ZTsKICAgICAgICB9CiAgICAgIH0KICAgIH0pOyAvLyDmo4DmtYvliLDlrZjlnKjmlofku7bkvb/nlKggRm9ybURhdGEg5o+Q5Lqk5pWw5o2uCgogICAgaWYgKGhhc0ZpbGUpIHsKICAgICAgdmFyIGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKCk7CiAgICAgIE9iamVjdC5rZXlzKHJlcUNvbmZpZy5kYXRhKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsKICAgICAgICBmb3JtRGF0YS5hcHBlbmQoa2V5LCByZXFDb25maWcuZGF0YVtrZXldKTsKICAgICAgfSk7CiAgICAgIHJlcUNvbmZpZy5kYXRhID0gZm9ybURhdGE7CiAgICB9CiAgfSBlbHNlIHsKICAgIC8vIFRPRE86IOWFtuS7luexu+Wei+ivt+axguaVsOaNruagvOW8j+WkhOeQhgoKICAgIC8qIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSAqLwogICAgY29uc29sZS53YXJuKCJcdTUxNzZcdTRFRDZcdThCRjdcdTZDNDJcdTdDN0JcdTU3OEI6ICIuY29uY2F0KHJlcUNvbmZpZy5tZXRob2QsICIsIFx1NjY4Mlx1NjVFMFx1ODFFQVx1NTJBOFx1NTkwNFx1NzQwNiIpKTsKICB9IC8vIHN0ZXAyOiBwZXJtaXNzaW9uIOWkhOeQhgoKCiAgaWYgKHJlcUNvbmZpZy51cmwgPT09ICdjbXMvdXNlci9yZWZyZXNoJykgey8vIGNvbnN0IHJlZnJlc2hUb2tlbiA9IGdldFRva2VuKCdyZWZyZXNoX3Rva2VuJykKICAgIC8vIGlmIChyZWZyZXNoVG9rZW4pIHsKICAgIC8vICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXBhcmFtLXJlYXNzaWduCiAgICAvLyAgIHJlcUNvbmZpZy5oZWFkZXJzLkF1dGhvcml6YXRpb24gPSByZWZyZXNoVG9rZW4KICAgIC8vIH0KICB9IGVsc2Uge30gLy8g5pyJYWNjZXNzX3Rva2VuCiAgICAvLyBjb25zdCBhY2Nlc3NUb2tlbiA9IGdldFRva2VuKCdhY2Nlc3NfdG9rZW4nKQogICAgLy8gaWYgKGFjY2Vzc1Rva2VuKSB7CiAgICAvLyAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1wYXJhbS1yZWFzc2lnbgogICAgLy8gICByZXFDb25maWcuaGVhZGVycy5BdXRob3JpemF0aW9uID0gYWNjZXNzVG9rZW4KICAgIC8vIH0KICAgIC8vIGNvbmZpZy5oZWFkZXJzWydDb250ZW50LVR5cGUnXSA9ICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQ7IGNoYXJzZXQ9VVRGLTgnCgoKICBjb25zb2xlLmxvZygnZ2V0dGVyc3Rva2VuJyk7CiAgY29uc29sZS5sb2coc3RvcmUuZ2V0dGVycy50b2tlbik7CgogIGlmIChzdG9yZS5nZXR0ZXJzLnRva2VuKSB7CiAgICAvLyBsZXQgZWFjaCByZXF1ZXN0IGNhcnJ5IHRva2VuCiAgICAvLyBbJ1gtVG9rZW4nXSBpcyBhIGN1c3RvbSBoZWFkZXJzIGtleQogICAgLy8gcGxlYXNlIG1vZGlmeSBpdCBhY2NvcmRpbmcgdG8gdGhlIGFjdHVhbCBzaXR1YXRpb24KICAgIC8vIHJlcUNvbmZpZy5oZWFkZXJzWydDb250ZW50LVR5cGUnXSA9ICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQ7IGNoYXJzZXQ9VVRGLTgnCiAgICByZXFDb25maWcuaGVhZGVyc1sndG9rZW4nXSA9IHN0b3JlLmdldHRlcnMudG9rZW4udG9rZW47CiAgfQoKICByZXR1cm4gcmVxQ29uZmlnOwp9LCBmdW5jdGlvbiAoZXJyb3IpIHsKICBQcm9taXNlLnJlamVjdChlcnJvcik7Cn0pOyAvLyBBZGQgYSByZXNwb25zZSBpbnRlcmNlcHRvcgoKCl9heGlvcy5pbnRlcmNlcHRvcnMucmVzcG9uc2UudXNlKGZ1bmN0aW9uIChyZXMpIHsKICBjb25zb2xlLmxvZyhyZXMpOwogIHJldHVybiByZXM7Cn0sIGZ1bmN0aW9uIChlcnJvcikgewogIGlmICghZXJyb3IucmVzcG9uc2UpIHsKICAgIFZ1ZS5wcm90b3R5cGUuJG5vdGlmeSh7CiAgICAgIHRpdGxlOiAnTmV0d29yayBFcnJvcicsCiAgICAgIGRhbmdlcm91c2x5VXNlSFRNTFN0cmluZzogdHJ1ZSwKICAgICAgbWVzc2FnZTogJzxzdHJvbmcgY2xhc3M9Im15LW5vdGlmeSI+6K+35qOA5p+lIEFQSSDmmK/lkKblvILluLg8L3N0cm9uZz4nCiAgICB9KTsKICAgIGNvbnNvbGUubG9nKCdlcnJvcicsIGVycm9yKTsKICB9IC8vIOWIpOaWreivt+axgui2heaXtgoKCiAgaWYgKGVycm9yLmNvZGUgPT09ICdFQ09OTkFCT1JURUQnICYmIGVycm9yLm1lc3NhZ2UuaW5kZXhPZigndGltZW91dCcpICE9PSAtMSkgewogICAgVnVlLnByb3RvdHlwZS4kbWVzc2FnZSh7CiAgICAgIHR5cGU6ICd3YXJuaW5nJywKICAgICAgbWVzc2FnZTogJ+ivt+axgui2heaXticKICAgIH0pOwogIH0KCiAgcmV0dXJuIFByb21pc2UucmVqZWN0KGVycm9yKTsKfSk7IC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZQoKClBsdWdpbi5pbnN0YWxsID0gZnVuY3Rpb24gKFZ1ZSwgb3B0aW9ucykgewogIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZQogIFZ1ZS5heGlvcyA9IF9heGlvczsKICB3aW5kb3cuYXhpb3MgPSBfYXhpb3M7CiAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoVnVlLnByb3RvdHlwZSwgewogICAgYXhpb3M6IHsKICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgICAgcmV0dXJuIF9heGlvczsKICAgICAgfQogICAgfSwKICAgICRheGlvczogewogICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgICByZXR1cm4gX2F4aW9zOwogICAgICB9CiAgICB9CiAgfSk7Cn07CgppZiAoIVZ1ZS5heGlvcykgewogIFZ1ZS51c2UoUGx1Z2luKTsKfSAvLyDlr7zlh7rluLjnlKjlh73mlbAKCi8qKg0KICogQHBhcmFtIHtzdHJpbmd9IHVybA0KICogQHBhcmFtIHtvYmplY3R9IGRhdGENCiAqIEBwYXJhbSB7b2JqZWN0fSBwYXJhbXMNCiAqLwoKCmV4cG9ydCBmdW5jdGlvbiBwb3N0KHVybCkgewogIHZhciBkYXRhID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB7fTsKICB2YXIgcGFyYW1zID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiB7fTsKICByZXR1cm4gX2F4aW9zKHsKICAgIG1ldGhvZDogJ3Bvc3QnLAogICAgdXJsOiB1cmwsCiAgICBkYXRhOiBkYXRhLAogICAgcGFyYW1zOiBwYXJhbXMKICB9KTsKfQovKioNCiAqIEBwYXJhbSB7c3RyaW5nfSB1cmwNCiAqIEBwYXJhbSB7b2JqZWN0fSBwYXJhbXMNCiAqLwoKZXhwb3J0IGZ1bmN0aW9uIGdldCh1cmwpIHsKICB2YXIgcGFyYW1zID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB7fTsKICByZXR1cm4gX2F4aW9zKHsKICAgIG1ldGhvZDogJ2dldCcsCiAgICB1cmw6IHVybCwKICAgIHBhcmFtczogcGFyYW1zCiAgfSk7Cn0KLyoqDQogKiBAcGFyYW0ge3N0cmluZ30gdXJsDQogKiBAcGFyYW0ge29iamVjdH0gZGF0YQ0KICogQHBhcmFtIHtvYmplY3R9IHBhcmFtcw0KICovCgpleHBvcnQgZnVuY3Rpb24gcHV0KHVybCkgewogIHZhciBkYXRhID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB7fTsKICB2YXIgcGFyYW1zID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiB7fTsKICByZXR1cm4gX2F4aW9zKHsKICAgIG1ldGhvZDogJ3B1dCcsCiAgICB1cmw6IHVybCwKICAgIHBhcmFtczogcGFyYW1zLAogICAgZGF0YTogZGF0YQogIH0pOwp9Ci8qKg0KICogQHBhcmFtIHtzdHJpbmd9IHVybA0KICogQHBhcmFtIHtvYmplY3R9IHBhcmFtcw0KICovCgpleHBvcnQgZnVuY3Rpb24gX2RlbGV0ZSh1cmwpIHsKICB2YXIgcGFyYW1zID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB7fTsKICByZXR1cm4gX2F4aW9zKHsKICAgIG1ldGhvZDogJ2RlbGV0ZScsCiAgICB1cmw6IHVybCwKICAgIHBhcmFtczogcGFyYW1zCiAgfSk7Cn0KZXhwb3J0IGRlZmF1bHQgX2F4aW9zOw=="},{"version":3,"sources":["D:/code_by_hk/kun-cms-vue/src/kun/plugins/axios.js"],"names":["Vue","axios","Config","store","config","baseURL","process","env","apiUrl","timeout","crossDomain","validateStatus","status","_axios","create","interceptors","request","use","originConfig","reqConfig","url","console","error","Error","source","message","method","toLowerCase","params","data","hasFile","Object","keys","forEach","key","item","FileList","File","Blob","formData","FormData","append","warn","log","getters","token","headers","Promise","reject","response","res","prototype","$notify","title","dangerouslyUseHTMLString","code","indexOf","$message","type","Plugin","install","options","window","defineProperties","get","$axios","post","put","_delete"],"mappings":"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","sourcesContent":["// ajax 封装插件, 使用 axios\r\nimport Vue from 'vue'\r\nimport axios from 'axios'\r\nimport Config from '@/config'\r\n// import ErrorCode from '@/config/error-code'\r\nimport store from '@/store'\r\n// import { getToken, saveAccessToken } from '@/lin/utils/token'\r\n\r\nconst config = {\r\n  baseURL: Config.baseURL || process.env.apiUrl || '',\r\n  timeout: 5 * 1000, // 请求超时时间设置\r\n  crossDomain: true,\r\n  // withCredentials: true, // Check cross-site Access-Control\r\n  // 定义可获得的http响应状态码\r\n  // return true、设置为null或者undefined，promise将resolved,否则将rejected\r\n  validateStatus(status) {\r\n    return status >= 200 && status < 510\r\n  },\r\n}\r\n\r\n// const retryTime = 2 // 请求失败重试次数\r\n// const retryDelay = 1500 // 请求失败重试间隔\r\n\r\n// 创建请求实例\r\nconst _axios = axios.create(config)\r\n\r\n_axios.interceptors.request.use(\r\n  originConfig => {\r\n    // 有 API 请求重新计时\r\n    // Vue.prototype.$_lin_jump()\r\n\r\n    const reqConfig = { ...originConfig }\r\n\r\n    // step1: 容错处理\r\n    if (!reqConfig.url) {\r\n      /* eslint-disable-next-line */\r\n      console.error('request need url')\r\n      throw new Error({\r\n        source: 'axiosInterceptors',\r\n        message: 'request need url',\r\n      })\r\n    }\r\n\r\n    if (!reqConfig.method) {\r\n      // 默认使用 get 请求\r\n      reqConfig.method = 'get'\r\n    }\r\n    // 大小写容错\r\n    reqConfig.method = reqConfig.method.toLowerCase()\r\n\r\n    // 参数容错\r\n    if (reqConfig.method === 'get') {\r\n      if (!reqConfig.params) {\r\n        // 防止字段用错\r\n        reqConfig.params = reqConfig.data || {}\r\n      }\r\n    } else if (reqConfig.method === 'post') {\r\n      if (!reqConfig.data) {\r\n        // 防止字段用错\r\n        reqConfig.data = reqConfig.params || {}\r\n      }\r\n\r\n      // 检测是否包含文件类型, 若包含则进行 formData 封装\r\n      let hasFile = false\r\n      Object.keys(reqConfig.data).forEach(key => {\r\n        if (typeof reqConfig.data[key] === 'object') {\r\n          const item = reqConfig.data[key]\r\n          if (item instanceof FileList || item instanceof File || item instanceof Blob) {\r\n            hasFile = true\r\n          }\r\n        }\r\n      })\r\n\r\n      // 检测到存在文件使用 FormData 提交数据\r\n      if (hasFile) {\r\n        const formData = new FormData()\r\n        Object.keys(reqConfig.data).forEach(key => {\r\n          formData.append(key, reqConfig.data[key])\r\n        })\r\n        reqConfig.data = formData\r\n      }\r\n    } else {\r\n      // TODO: 其他类型请求数据格式处理\r\n      /* eslint-disable-next-line */\r\n      console.warn(`其他请求类型: ${reqConfig.method}, 暂无自动处理`)\r\n    }\r\n    // step2: permission 处理\r\n    if (reqConfig.url === 'cms/user/refresh') {\r\n      // const refreshToken = getToken('refresh_token')\r\n      // if (refreshToken) {\r\n      //   // eslint-disable-next-line no-param-reassign\r\n      //   reqConfig.headers.Authorization = refreshToken\r\n      // }\r\n    } else {\r\n      // 有access_token\r\n      // const accessToken = getToken('access_token')\r\n      // if (accessToken) {\r\n      //   // eslint-disable-next-line no-param-reassign\r\n      //   reqConfig.headers.Authorization = accessToken\r\n      // }\r\n    }\r\n\t// config.headers['Content-Type'] = 'application/x-www-form-urlencoded; charset=UTF-8'\r\n\tconsole.log('getterstoken')\r\n\tconsole.log(store.getters.token)\r\n\tif (store.getters.token) {\r\n\t\t// let each request carry token\r\n\t\t// ['X-Token'] is a custom headers key\r\n\t\t// please modify it according to the actual situation\r\n\t\t// reqConfig.headers['Content-Type'] = 'application/x-www-form-urlencoded; charset=UTF-8'\r\n\t\treqConfig.headers['token'] = store.getters.token.token\r\n\t}\r\n\t\r\n    return reqConfig\r\n  },\r\n  error => {\r\n    Promise.reject(error)\r\n  },\r\n)\r\n\r\n// Add a response interceptor\r\n_axios.interceptors.response.use(\r\n\tres => {\r\n\t\tconsole.log(res)\r\n\t\treturn res\r\n  },\r\n  error => {\r\n    if (!error.response) {\r\n      Vue.prototype.$notify({\r\n        title: 'Network Error',\r\n        dangerouslyUseHTMLString: true,\r\n        message: '<strong class=\"my-notify\">请检查 API 是否异常</strong>',\r\n      })\r\n      console.log('error', error)\r\n    }\r\n\r\n    // 判断请求超时\r\n    if (error.code === 'ECONNABORTED' && error.message.indexOf('timeout') !== -1) {\r\n      Vue.prototype.$message({\r\n        type: 'warning',\r\n        message: '请求超时',\r\n      })\r\n    }\r\n    return Promise.reject(error)\r\n  },\r\n)\r\n\r\n// eslint-disable-next-line\r\nPlugin.install = function(Vue, options) {\r\n  // eslint-disable-next-line\r\n  Vue.axios = _axios\r\n  window.axios = _axios\r\n  Object.defineProperties(Vue.prototype, {\r\n    axios: {\r\n      get() {\r\n        return _axios\r\n      },\r\n    },\r\n    $axios: {\r\n      get() {\r\n        return _axios\r\n      },\r\n    },\r\n  })\r\n}\r\n\r\nif (!Vue.axios) {\r\n  Vue.use(Plugin)\r\n}\r\n\r\n// 导出常用函数\r\n\r\n/**\r\n * @param {string} url\r\n * @param {object} data\r\n * @param {object} params\r\n */\r\nexport function post(url, data = {}, params = {}) {\r\n  return _axios({\r\n    method: 'post',\r\n    url,\r\n    data,\r\n    params,\r\n  })\r\n}\r\n\r\n/**\r\n * @param {string} url\r\n * @param {object} params\r\n */\r\nexport function get(url, params = {}) {\r\n  return _axios({\r\n    method: 'get',\r\n    url,\r\n    params,\r\n  })\r\n}\r\n\r\n/**\r\n * @param {string} url\r\n * @param {object} data\r\n * @param {object} params\r\n */\r\nexport function put(url, data = {}, params = {}) {\r\n  return _axios({\r\n    method: 'put',\r\n    url,\r\n    params,\r\n    data,\r\n  })\r\n}\r\n\r\n/**\r\n * @param {string} url\r\n * @param {object} params\r\n */\r\nexport function _delete(url, params = {}) {\r\n  return _axios({\r\n    method: 'delete',\r\n    url,\r\n    params,\r\n  })\r\n}\r\n\r\nexport default _axios\r\n"]}]}