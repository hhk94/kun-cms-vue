{"remainingRequest":"D:\\code_by_hk\\kun-cms-vue\\node_modules\\babel-loader\\lib\\index.js!D:\\code_by_hk\\kun-cms-vue\\node_modules\\eslint-loader\\index.js??ref--13-0!D:\\code_by_hk\\kun-cms-vue\\src\\router\\index.js","dependencies":[{"path":"D:\\code_by_hk\\kun-cms-vue\\src\\router\\index.js","mtime":1587374643113},{"path":"D:\\code_by_hk\\kun-cms-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\code_by_hk\\kun-cms-vue\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\code_by_hk\\kun-cms-vue\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IFZ1ZSBmcm9tICd2dWUnOwppbXBvcnQgVnVlUm91dGVyIGZyb20gJ3Z1ZS1yb3V0ZXInOwppbXBvcnQgcm91dGVzIGZyb20gJy4vcm91dGVycyc7CmltcG9ydCBzdG9yZSBmcm9tICdAL3N0b3JlJzsKaW1wb3J0IHsgTWVzc2FnZUJveCB9IGZyb20gJ2VsZW1lbnQtdWknOwpWdWUudXNlKFZ1ZVJvdXRlcik7IC8vICAgY29uc3Qgcm91dGVzID0gWwovLyAgIHsKLy8gCXBhdGg6ICcvJywKLy8gCW5hbWU6ICdMb2dpbicsCi8vIAljb21wb25lbnQ6ICgpID0+IGltcG9ydCgnLi4vcGFnZXMvTG9naW4vTG9naW4udnVlJykKLy8gICB9LAovLyAgIHsKLy8gICAgIHBhdGg6ICcvaG9tZScsCi8vICAgICBuYW1lOiAnSG9tZScsCi8vICAgICBjb21wb25lbnQ6ICgpID0+IGltcG9ydCgnLi4vcGFnZXMvSG9tZS9Ib21lLnZ1ZScpLAovLyAJY2hpbGRyZW46WwovLyAJCXsKLy8gCQkJcGF0aDogJ3Rlc3QnLAovLyAJCQluYW1lOiAnVGVzdCcsCi8vIAkJCWNvbXBvbmVudDogKCkgPT4gaW1wb3J0KCcuLi9wYWdlcy9UZXN0L1Rlc3QudnVlJyksCi8vIAkJfQovLyAJXQovLyAgIH0KLy8gXQoKLyoqCiAqIOmHjeWGmei3r+eUseeahHB1c2jmlrnms5UgLSDop6PlhrPot7Povaznm7jlkIzot6/nlLHorablkYrpl67popgKICovCgp2YXIgVnVlUm91dGVyUHVzaCA9IFZ1ZVJvdXRlci5wcm90b3R5cGUucHVzaDsKClZ1ZVJvdXRlci5wcm90b3R5cGUucHVzaCA9IGZ1bmN0aW9uIHB1c2godG8pIHsKICByZXR1cm4gVnVlUm91dGVyUHVzaC5jYWxsKHRoaXMsIHRvKS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7CiAgICByZXR1cm4gZXJyOwogIH0pOwp9OwoKdmFyIHJvdXRlciA9IG5ldyBWdWVSb3V0ZXIoewogIHJvdXRlczogcm91dGVzCn0pOwpyb3V0ZXIuYmVmb3JlRWFjaChmdW5jdGlvbiAodG8sIGZyb20sIG5leHQpIHsKICBjb25zb2xlLmxvZygncm91dGVyJyk7CiAgY29uc29sZS5sb2codG8pOwogIHN0b3JlLmRpc3BhdGNoKCdDb25maWcvc2F2ZV9hY3RpdmVfc2lkZV9iYXInLCB0by5wYXRoKTsgLy8g55m75b2V6aqM6K+BCgogIGlmICh0by5tZXRhLnJlcXVpcmVMb2dpbiAmJiAhc3RvcmUuZ2V0dGVycy50b2tlbikgewogICAgTWVzc2FnZUJveCgndG9rZW7ov4fmnJ/vvIzor7fph43mlrDnmbvlvZUnLCAn6K2m5ZGKJywgewogICAgICBjb25maXJtQnV0dG9uVGV4dDogJ+ehruWumicKICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAvLyBjb25zb2xlLmxvZygnYScpCiAgICAgIG5leHQoewogICAgICAgIHBhdGg6ICcvJwogICAgICB9KTsKICAgIH0pOwogICAgcmV0dXJuOwogIH0gLy8gVE9ETzogdGFiIOaooeW8j+mHjeWkjeeCueWHu+mqjOivgQogIC8vIOadg+mZkOmqjOivgQogIC8vIGlmIChzdG9yZSAmJiBzdG9yZS5zdGF0ZSAmJiBzdG9yZS5nZXR0ZXJzKSB7CiAgLy8gICBjb25zdCB7IHBlcm1pc3Npb25zLCB1c2VyIH0gPSBzdG9yZS5nZXR0ZXJzCiAgLy8gICBpZiAodG8ucGF0aCAhPT0gJy9hYm91dCcgJiYgIVV0aWwuaGFzUGVybWlzc2lvbihwZXJtaXNzaW9ucywgdG8ubWV0YSwgdXNlcikpIHsKICAvLyAgICAgVnVlLnByb3RvdHlwZS4kbm90aWZ5KHsKICAvLyAgICAgICB0aXRsZTogJ+aXoOadg+mZkCcsCiAgLy8gICAgICAgZGFuZ2Vyb3VzbHlVc2VIVE1MU3RyaW5nOiB0cnVlLAogIC8vICAgICAgIG1lc3NhZ2U6ICc8c3Ryb25nIGNsYXNzPSJteS1ub3RpZnkiPuaCqOaXoOatpOmhtemdoueahOadg+mZkOWTnzwvc3Ryb25nPicsCiAgLy8gICAgIH0pCiAgLy8gICAgIG5leHQoeyBwYXRoOiAnL2Fib3V0JyB9KQogIC8vICAgICByZXR1cm4KICAvLyAgIH0KICAvLyB9CiAgLy8g6Lev55Sx5Y+R55Sf5Y+Y5YyW6YeN5paw6K6h5pe2CiAgLy8gVnVlLnByb3RvdHlwZS4kX2xpbl9qdW1wKCkKICAvLyDot6/nlLHlj5HnlJ/lj5jljJbkv67mlLnpobXpnaJ0aXRsZQoKCiAgaWYgKHRvLm1ldGEudGl0bGUpIHsKICAgIGRvY3VtZW50LnRpdGxlID0gdG8ubWV0YS50aXRsZTsKICB9CgogIG5leHQoKTsKfSk7CmV4cG9ydCBkZWZhdWx0IHJvdXRlcjs="},{"version":3,"sources":["D:/code_by_hk/kun-cms-vue/src/router/index.js"],"names":["Vue","VueRouter","routes","store","MessageBox","use","VueRouterPush","prototype","push","to","call","catch","err","router","beforeEach","from","next","console","log","dispatch","path","meta","requireLogin","getters","token","confirmButtonText","then","title","document"],"mappings":"AAAA,OAAOA,GAAP,MAAgB,KAAhB;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,OAAOC,MAAP,MAAmB,WAAnB;AACA,OAAOC,KAAP,MAAkB,SAAlB;AACA,SAASC,UAAT,QAA2B,YAA3B;AACAJ,GAAG,CAACK,GAAJ,CAAQJ,SAAR,E,CAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;AAGA,IAAMK,aAAa,GAAGL,SAAS,CAACM,SAAV,CAAoBC,IAA1C;;AACAP,SAAS,CAACM,SAAV,CAAoBC,IAApB,GAA2B,SAASA,IAAT,CAAeC,EAAf,EAAmB;AAC7C,SAAOH,aAAa,CAACI,IAAd,CAAmB,IAAnB,EAAyBD,EAAzB,EAA6BE,KAA7B,CAAmC,UAAAC,GAAG;AAAA,WAAIA,GAAJ;AAAA,GAAtC,CAAP;AACA,CAFD;;AAQA,IAAMC,MAAM,GAAG,IAAIZ,SAAJ,CAAc;AAC3BC,EAAAA,MAAM,EAANA;AAD2B,CAAd,CAAf;AAIAW,MAAM,CAACC,UAAP,CAAkB,UAACL,EAAD,EAAKM,IAAL,EAAWC,IAAX,EAAoB;AACrCC,EAAAA,OAAO,CAACC,GAAR,CAAY,QAAZ;AACAD,EAAAA,OAAO,CAACC,GAAR,CAAYT,EAAZ;AACAN,EAAAA,KAAK,CAACgB,QAAN,CAAe,6BAAf,EAA6CV,EAAE,CAACW,IAAhD,EAHqC,CAIpC;;AACA,MAAIX,EAAE,CAACY,IAAH,CAAQC,YAAR,IAAsB,CAACnB,KAAK,CAACoB,OAAN,CAAcC,KAAzC,EAAgD;AACjDpB,IAAAA,UAAU,CAAC,eAAD,EAAkB,IAAlB,EAAwB;AACjCqB,MAAAA,iBAAiB,EAAE;AADc,KAAxB,CAAV,CAEGC,IAFH,CAEQ,YAAI;AACX;AACAV,MAAAA,IAAI,CAAC;AAAEI,QAAAA,IAAI,EAAE;AAAR,OAAD,CAAJ;AACA,KALD;AAOG;AAED,GAfmC,CAiBpC;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;;;AACA,MAAIX,EAAE,CAACY,IAAH,CAAQM,KAAZ,EAAmB;AACjBC,IAAAA,QAAQ,CAACD,KAAT,GAAiBlB,EAAE,CAACY,IAAH,CAAQM,KAAzB;AACD;;AAEDX,EAAAA,IAAI;AACL,CA1CD;AA4CA,eAAeH,MAAf","sourcesContent":["import Vue from 'vue'\nimport VueRouter from 'vue-router'\nimport routes from './routers'\r\nimport store from '@/store'\r\nimport { MessageBox } from 'element-ui';\nVue.use(VueRouter)\n\n//   const routes = [\r\n//   {\r\n// \tpath: '/',\r\n// \tname: 'Login',\r\n// \tcomponent: () => import('../pages/Login/Login.vue')\r\n//   },\n//   {\n//     path: '/home',\n//     name: 'Home',\n//     component: () => import('../pages/Home/Home.vue'),\r\n// \tchildren:[\r\n// \t\t{\r\n// \t\t\tpath: 'test',\r\n// \t\t\tname: 'Test',\r\n// \t\t\tcomponent: () => import('../pages/Test/Test.vue'),\r\n// \t\t}\r\n// \t]\n//   }\n// ]\n\r\n/**\n * 重写路由的push方法 - 解决跳转相同路由警告问题\n */\r\nconst VueRouterPush = VueRouter.prototype.push \nVueRouter.prototype.push = function push (to) {\n\treturn VueRouterPush.call(this, to).catch(err => err)\n}\r\n\r\n\r\n\r\n\r\n\nconst router = new VueRouter({\n  routes\n})\n\r\nrouter.beforeEach((to, from, next) => {\r\n\tconsole.log('router')\r\n\tconsole.log(to)\r\n\tstore.dispatch('Config/save_active_side_bar',to.path);\r\n  // 登录验证\r\n  if (to.meta.requireLogin&&!store.getters.token) {\r\n\tMessageBox('token过期，请重新登录', '警告', {\r\n\t\tconfirmButtonText: '确定',\r\n\t}).then(()=>{\r\n\t\t// console.log('a')\r\n\t\tnext({ path: '/' })\r\n\t});\r\n\t\r\n    return\r\n\t\r\n  }\r\n\r\n  // TODO: tab 模式重复点击验证\r\n\r\n  // 权限验证\r\n  // if (store && store.state && store.getters) {\r\n  //   const { permissions, user } = store.getters\r\n  //   if (to.path !== '/about' && !Util.hasPermission(permissions, to.meta, user)) {\r\n  //     Vue.prototype.$notify({\r\n  //       title: '无权限',\r\n  //       dangerouslyUseHTMLString: true,\r\n  //       message: '<strong class=\"my-notify\">您无此页面的权限哟</strong>',\r\n  //     })\r\n  //     next({ path: '/about' })\r\n  //     return\r\n  //   }\r\n  // }\r\n\r\n  // 路由发生变化重新计时\r\n  // Vue.prototype.$_lin_jump()\r\n\r\n  // 路由发生变化修改页面title\r\n  if (to.meta.title) {\r\n    document.title = to.meta.title\r\n  }\r\n\r\n  next()\r\n})\r\n\nexport default router\n"]}]}