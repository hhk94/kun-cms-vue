{"remainingRequest":"D:\\code_by_hk\\kun-cms-vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\code_by_hk\\kun-cms-vue\\src\\pages\\Login\\Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\code_by_hk\\kun-cms-vue\\src\\pages\\Login\\Login.vue","mtime":1587634402721},{"path":"D:\\code_by_hk\\kun-cms-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\code_by_hk\\kun-cms-vue\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\code_by_hk\\kun-cms-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\code_by_hk\\kun-cms-vue\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCi8vIEAgaXMgYW4gYWxpYXMgdG8gL3NyYw0KaW1wb3J0IFV0aWxzIGZyb20gJ0Ava3VuL3V0aWxzL3V0aWwnDQppbXBvcnQgQWRtaW4gZnJvbSAnQC9rdW4vYXBpL2FkbWluJw0KaW1wb3J0IHJvdXRlciBmcm9tICdAL3JvdXRlcicKLy8gaW1wb3J0IHsgU3RvcmFnZSB9IGZyb20gJ0Ava3VuL3V0aWxzL3N0b3JhZ2UnDQovLyB2YXIgc3RvcmFnZSA9IG5ldyBTdG9yYWdlKCk7CmV4cG9ydCBkZWZhdWx0IHsKCW5hbWU6ICdsb2dpbicsCgljb21wb25lbnRzOiB7Cgl9LA0KCWRhdGEoKSB7DQoJCXJldHVybiB7DQoJCQlsb2FkaW5nOmZhbHNlLA0KCQkJd2FpdDogMjAwMCwgLy8gMjAwMG1z5LmL5YaF5LiN6IO96YeN5aSN5Y+R6LW36K+35rGCDQoJCQl0aHJvdHRsZUxvZ2luOiBudWxsLCAvLyDoioLmtYHnmbvlvZUNCgkJCWZvcm06IHsNCgkJCQl1c2VybmFtZTogJ2hrJywNCgkJCQlwYXNzd29yZDogJzIwMTIwOTQyJywNCgkJCX0sDQoJCX0NCgl9LA0KCW1vdW50ZWQoKSB7DQoJCXRoaXMudGhyb3R0bGVMb2dpbiA9IFV0aWxzLnRocm90dGxlKHRoaXMubG9naW4sIHRoaXMud2FpdCkNCgl9LA0KCW1ldGhvZHM6ew0KCQlhc3luYyBsb2dpbigpey8v55m75b2VDQoJCQljb25zdCB7IHVzZXJuYW1lLCBwYXNzd29yZCB9ID0gdGhpcy5mb3JtDQoJCQlsZXQgZGF0YSA9IHsNCgkJCQlhcHBpZDp1c2VybmFtZSwNCgkJCQlhcHBzZWNyZXQ6cGFzc3dvcmQNCgkJCX0NCgkJCWxldCByZXN1bHQNCgkJCXRyeSB7DQoJCQkJdGhpcy5sb2FkaW5nID0gdHJ1ZQ0KCQkJCXJlc3VsdCA9IGF3YWl0IEFkbWluLnVzZXJfbG9naW4oZGF0YSkNCgkJCX0gY2F0Y2ggKGUpIHsNCgkJCQl0aGlzLmxvYWRpbmcgPSBmYWxzZQ0KCQkJCWNvbnNvbGUubG9nKGUpDQoJCQl9DQoJCQlpZihyZXN1bHQuZGF0YS5zdGF0ZSA9PSB3aW5kb3cuZy5TVUNDRVNTX1NUQVRFKXsNCgkJCQl0aGlzLmxvYWRpbmcgPSBmYWxzZQ0KCQkJCS8vIGxldCBwYXJhbXMgPSB7DQoJCQkJLy8gCW5hbWU6J1VTRVJfSU5GTycsDQoJCQkJLy8gCXZhbHVlOnJlc3VsdC5kYXRhLmRhdGEsDQoJCQkJLy8gCWV4cGlyZXM6MzYwMDAwDQoJCQkJLy8gfQ0KCQkJCS8vIHN0b3JhZ2Uuc2V0X3N0b3JhZ2UocGFyYW1zKQ0KCQkJCXRoaXMuJHN0b3JlLmRpc3BhdGNoKCdIb21lL3NldF90b2tlbicscmVzdWx0LmRhdGEuZGF0YSkNCgkJCQl0aGlzLiRtZXNzYWdlKHsNCgkJCQkJdHlwZTogJ3N1Y2Nlc3MnLA0KCQkJCQltZXNzYWdlOiAn55m75b2V5oiQ5YqfIScNCgkJCQl9KTsNCgkJCQlyb3V0ZXIucHVzaCgnL2hvbWUvZGVmYXVsdCcpDQoJCQl9ZWxzZXsNCgkJCQl0aGlzLmxvYWRpbmcgPSBmYWxzZQ0KCQkJCXRoaXMuJG5vdGlmeS5lcnJvcih7DQoJCQkJCXRpdGxlOiAn6ZSZ6K+vJywNCgkJCQkJbWVzc2FnZTogcmVzdWx0LmRhdGEubXNnDQoJCQkJCQ0KCQkJCX0pOw0KCQkJfQ0KCQl9DQoJfQp9Cg=="},{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;AAqBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA","file":"Login.vue","sourceRoot":"src/pages/Login","sourcesContent":["<template>\n\t<div class=\"login\">\n\t\t<div class=\"team-name hidden-sm-and-down\"><img src=\"@/assets/img/login/team-name.png\" alt=\"logo\" /></div>\r\n\t\t<div class=\"form-box\" v-loading=\"loading\" element-loading-background=\"rgba(0, 0, 0, 0)\">\r\n\t\t\t<div class=\"title\"><h1 title=\"Lin\">Kun CMS</h1></div>\r\n\t\t\t<form class=\"login-form\" autocomplete=\"off\" @submit.prevent=\"throttleLogin()\">\r\n\t\t\t\t<div class=\"form-item nickname\">\r\n\t\t\t\t\t<span class=\"icon account-icon\"></span>\r\n\t\t\t\t\t<input type=\"text\" v-model=\"form.username\" autocomplete=\"off\" placeholder=\"请填写用户名\" />\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"form-item password\">\r\n\t\t\t\t\t<span class=\"icon secret-icon\"></span>\r\n\t\t\t\t\t<input type=\"password\" v-model=\"form.password\" autocomplete=\"off\" placeholder=\"请填写用户登录密码\" />\r\n\t\t\t\t</div>\r\n\t\t\t\t<button class=\"submit-btn\" type=\"submit\">登录</button>\r\n\t\t\t</form>\r\n\t\t</div>\n\t</div>\n</template>\n\n<script>\n// @ is an alias to /src\r\nimport Utils from '@/kun/utils/util'\r\nimport Admin from '@/kun/api/admin'\r\nimport router from '@/router'\n// import { Storage } from '@/kun/utils/storage'\r\n// var storage = new Storage();\nexport default {\n\tname: 'login',\n\tcomponents: {\n\t},\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tloading:false,\r\n\t\t\twait: 2000, // 2000ms之内不能重复发起请求\r\n\t\t\tthrottleLogin: null, // 节流登录\r\n\t\t\tform: {\r\n\t\t\t\tusername: 'hk',\r\n\t\t\t\tpassword: '20120942',\r\n\t\t\t},\r\n\t\t}\r\n\t},\r\n\tmounted() {\r\n\t\tthis.throttleLogin = Utils.throttle(this.login, this.wait)\r\n\t},\r\n\tmethods:{\r\n\t\tasync login(){//登录\r\n\t\t\tconst { username, password } = this.form\r\n\t\t\tlet data = {\r\n\t\t\t\tappid:username,\r\n\t\t\t\tappsecret:password\r\n\t\t\t}\r\n\t\t\tlet result\r\n\t\t\ttry {\r\n\t\t\t\tthis.loading = true\r\n\t\t\t\tresult = await Admin.user_login(data)\r\n\t\t\t} catch (e) {\r\n\t\t\t\tthis.loading = false\r\n\t\t\t\tconsole.log(e)\r\n\t\t\t}\r\n\t\t\tif(result.data.state == window.g.SUCCESS_STATE){\r\n\t\t\t\tthis.loading = false\r\n\t\t\t\t// let params = {\r\n\t\t\t\t// \tname:'USER_INFO',\r\n\t\t\t\t// \tvalue:result.data.data,\r\n\t\t\t\t// \texpires:360000\r\n\t\t\t\t// }\r\n\t\t\t\t// storage.set_storage(params)\r\n\t\t\t\tthis.$store.dispatch('Home/set_token',result.data.data)\r\n\t\t\t\tthis.$message({\r\n\t\t\t\t\ttype: 'success',\r\n\t\t\t\t\tmessage: '登录成功!'\r\n\t\t\t\t});\r\n\t\t\t\trouter.push('/home/default')\r\n\t\t\t}else{\r\n\t\t\t\tthis.loading = false\r\n\t\t\t\tthis.$notify.error({\r\n\t\t\t\t\ttitle: '错误',\r\n\t\t\t\t\tmessage: result.data.msg\r\n\t\t\t\t\t\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t}\n}\n</script>\r\n<style scoped=\"scoped\" lang=\"scss\">\r\n.login{\r\n\twidth: 100%;\r\n\theight: 100%;\r\n\tbackground-size: auto;\r\n\tbackground: #1b2c5f url('../../assets/img/login/login-ba.png') no-repeat center center;\r\n\t.team-name {\r\n\t\tposition: fixed;\r\n\t\tleft: 40px;\r\n\t\ttop: 50%;\r\n\t\twidth: 50px;\r\n\t\ttransform: translateY(-50%);\r\n\t}\r\n\t\r\n\t.form-box {\r\n\t\tposition: fixed;\r\n\t\tleft: 50%;\r\n\t\ttop: 50%;\r\n\t\ttransform: translate(-50%, -50%);\r\n\t\twidth: 445px;\r\n\r\n\t\t.title {\r\n\t\t\theight: 37px;\r\n\t\t\tfont-size: 30px;\r\n\t\t\tline-height: 37px;\r\n\t\t\tmargin-bottom: 15%;\r\n\r\n\t\th1 {\r\n\t\t\tpadding-left: 74px;\r\n\t\t\tbox-sizing: border-box;\r\n\t\t\ttext-align: left;\r\n\t\t\tcolor: #8c98ae;\r\n\t\t}\r\n\t\t}\r\n\t\r\n\t\t.login-form {\r\n\t\t\twidth: 100%;\r\n\t\r\n\t\t\t.form-item {\r\n\t\t\t\twidth: 100%;\r\n\t\t\t\theight: 40px;\r\n\t\t\t\tbox-sizing: border-box;\r\n\t\t\t\tpadding-bottom: 13px;\r\n\t\t\t\tmargin-bottom: 34px;\r\n\t\t\r\n\t\t\t\tinput {\r\n\t\t\t\t\twidth: 100%;\r\n\t\t\t\t\theight: 100%;\r\n\t\t\t\t\tbackground: transparent;\r\n\t\t\t\t\tcolor: #c4c9d2;\r\n\t\t\t\t\tfont-size: 14px;\r\n\t\t\t\t\tpadding-left: 74px;\r\n\t\t\t\t\tbox-sizing: border-box;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\r\n\t\t\t.form-item.nickname {\r\n\t\t\t\tbackground: url('../../assets/img/login/nickname.png') no-repeat;\r\n\t\t\t\tbackground-size: 100% auto;\r\n\t\t\t\tbackground-position: left bottom;\r\n\t\t\t}\r\n\t\t\r\n\t\t\t.form-item.password {\r\n\t\t\t\tbackground: url('../../assets/img/login/password.png') no-repeat;\r\n\t\t\t\tbackground-size: 100% auto;\r\n\t\t\t\tbackground-position: left bottom;\r\n\t\t\t}\r\n\t\t\r\n\t\t\t.submit-btn {\r\n\t\t\t\twidth: 100%;\r\n\t\t\t\theight: 70px;\r\n\t\t\t\tcolor: #c4c9d2;\r\n\t\t\t\tfont-size: 16px;\r\n\t\t\t\ttext-align: left;\r\n\t\t\t\tbox-sizing: border-box;\r\n\t\t\t\tpadding: 0 10px;\r\n\t\t\t\tpadding-left: 74px;\r\n\t\t\t\tbackground: url('../../assets/img/login/login-btn.png') no-repeat;\r\n\t\t\t\tbackground-size: 90% auto;\r\n\t\t\t\tbackground-position: center bottom;\r\n\t\t\t\tborder: none;\r\n\t\t\t\tcursor: pointer;\r\n\t\t\t\toutline:none;\r\n\t\t\t\t&:active{\r\n\t\t\t\t\topacity: 0.8;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n</style>\n"]}]}