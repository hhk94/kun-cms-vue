{"remainingRequest":"D:\\code_by_hk\\kun-cms-vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\code_by_hk\\kun-cms-vue\\src\\pages\\Article\\ArticleList.vue?vue&type=style&index=0&id=31ec6e87&scoped=true&lang=css&","dependencies":[{"path":"D:\\code_by_hk\\kun-cms-vue\\src\\pages\\Article\\ArticleList.vue","mtime":1587548956124},{"path":"D:\\code_by_hk\\kun-cms-vue\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\code_by_hk\\kun-cms-vue\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"D:\\code_by_hk\\kun-cms-vue\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"D:\\code_by_hk\\kun-cms-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\code_by_hk\\kun-cms-vue\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKDQouYmN7DQoJDQoJbWFyZ2luOiAyMHB4Ow0KCXdpZHRoOiBjYWxjKDEwMCUgLSA0MHB4KTsNCgltYXJnaW4tYm90dG9tOiAwOw0KfQpoMyB7CiAgbWFyZ2luOiA0MHB4IDAgMDsKfQp1bCB7CiAgbGlzdC1zdHlsZS10eXBlOiBub25lOwogIHBhZGRpbmc6IDA7Cn0KbGkgewogIGRpc3BsYXk6IGlubGluZS1ibG9jazsKICBtYXJnaW46IDAgMTBweDsKfQphIHsKICBjb2xvcjogIzQyYjk4MzsKfQ0KLnRhYmxlew0KCW1hcmdpbjogMjBweDsNCgl3aWR0aDogY2FsYygxMDAlIC0gNDBweCkhaW1wb3J0YW50Ow0KCQ0KfQ0KOjp2LWRlZXAgLnBhZ3sNCgltYXJnaW4tdG9wOiA0MHB4Ow0KfQo="},{"version":3,"sources":["ArticleList.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgKA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA","file":"ArticleList.vue","sourceRoot":"src/pages/Article","sourcesContent":["<template>\n\t<div class=\"article-list\">\r\n\t\t<el-breadcrumb separator=\"/\" class=\"bc\">\r\n\t\t\t<el-breadcrumb-item>文章相关</el-breadcrumb-item>\r\n\t\t\t<el-breadcrumb-item>文章列表</el-breadcrumb-item>\r\n\t\t</el-breadcrumb>\r\n\t\t<div class=\"table\">\r\n\t\t\t<el-table\r\n\t\t\t:data=\"article_list\"\r\n\t\t\tstyle=\"width: 100%\"\r\n\t\t\theight=\"600\">\r\n\t\t\t<el-table-column\r\n\t\t\tfixed\r\n\t\t\tprop=\"id\"\r\n\t\t\tlabel=\"id\"\r\n\t\t\twidth=\"50\">\r\n\t\t\t</el-table-column>\r\n\t\t\t<el-table-column\r\n\t\t\tprop=\"article_title\"\r\n\t\t\tlabel=\"标题\"\r\n\t\t\twidth=\"200\">\r\n\t\t\t</el-table-column>\r\n\t\t\t<el-table-column\r\n\t\t\tprop=\"belong_article_type.typename\"\r\n\t\t\tlabel=\"文章类别\"\r\n\t\t\twidth=\"120\">\r\n\t\t\t\t<template slot-scope=\"scope\">\r\n\t\t\t\t\t<el-tag\r\n\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\tdisable-transitions>{{scope.row.belong_article_type.typename}}</el-tag>\r\n\t\t\t\t</template>\r\n\t\t\t</el-table-column>\r\n\t\t\t<el-table-column\r\n\t\t\tprop=\"has_comments_count\"\r\n\t\t\tlabel=\"评论数\"\r\n\t\t\twidth=\"100\">\r\n\t\t\t</el-table-column>\r\n\t\t\t<el-table-column\r\n\t\t\tprop=\"belong_user.nick_name\"\r\n\t\t\tlabel=\"作者\"\r\n\t\t\t>\r\n\t\t\t</el-table-column>\r\n\t\t\t<el-table-column\r\n\t\t\tfixed=\"right\"\r\n\t\t\tlabel=\"操作\"\r\n\t\t\twidth=\"150\">\r\n\t\t\t<template slot-scope=\"scope\">\r\n\t\t\t\t<el-button\r\n\t\t\t\tsize=\"mini\"\r\n\t\t\t\t@click=\"handleEdit(scope.row)\">编辑</el-button>\r\n\t\t\t\t<el-button\r\n\t\t\t\tsize=\"mini\"\r\n\t\t\t\ttype=\"danger\"\r\n\t\t\t\t@click=\"handleDelete(scope.$index, scope.row)\">删除</el-button>\r\n\t\t\t</template>\r\n\t\t\t</el-table-column>\r\n\t\t\t</el-table>\r\n\t\t\t\r\n\t\t\t\r\n\t\t\t<el-pagination\r\n\t\t\t@current-change=\"handleCurrentChange\"\r\n\t\t\tclass=\"pag\"\r\n\t\t\tbackground\r\n\t\t\tlayout=\"prev, pager, next\"\r\n\t\t\t:current-page=\"this.current_page\"\r\n\t\t\t:page-size=\"this.per_page\"\r\n\t\t\t:total=\"this.total\">\r\n\t\t\t</el-pagination>\r\n\t\t</div>\n\t\t\r\n\t</div>\t\n</template>\n\n<script>\r\nimport Article from '@/kun/api/article'\nexport default {\n\tname: 'ArticleList',\n\tdata() {\r\n\treturn {\r\n\tarticle_list:[],\r\n\ttotal:10,//总数\r\n\tcurrent_page:1,//当前页\r\n\tper_page:3//一页显示数\r\n\t}\r\n\t},\r\n\tmounted() {\r\n\t\tthis.article_list_get()\r\n\t},\r\n\tmethods:{\r\n\t\tasync article_list_get(){//获取文章列表\r\n\t\t\tlet data = {\r\n\t\t\t\tsize:this.per_page,\r\n\t\t\t\tpage:this.current_page\r\n\t\t\t}\r\n\t\t\tlet result\r\n\t\t\ttry {\r\n\t\t\t\tthis.loading = true\r\n\t\t\t\tresult = await Article.article_list_get(data)\r\n\t\t\t} catch (e) {\r\n\t\t\t\tthis.loading = false\r\n\t\t\t\tconsole.log(e)\r\n\t\t\t}\r\n\t\t\tif(result.data.state==window.g.SUCCESS_STATE){\r\n\t\t\t\tthis.loading = false\r\n\t\t\t\tthis.article_list = result.data.data.data\r\n\t\t\t\tthis.current_page = result.data.current_page\r\n\t\t\t\tthis.total = result.data.total\r\n\t\t\t\tthis.per_page =parseInt(result.data.data.per_page); \r\n\t\t\t\tconsole.log(result)\r\n\t\t\t}\r\n\t\t},\r\n\t\thandleCurrentChange(val){//页码改变\r\n\t\t\tconsole.log(`当前页: ${val}`);\r\n\t\t\tthis.current_page = val\r\n\t\t\tthis.article_list_get()\r\n\t\t},\r\n\t\thandleEdit(row){//文章修改\r\n\t\t\tconsole.log(row)\r\n\t\t\tconst id = row.id\r\n\t\t\tthis.$router.push({ path: '/home/article-edit', query: { id }})\r\n\t\t},\r\n\t\thandleDelete(index,row){//文章删除\r\n\t\t\tthis.$confirm('此操作将永久删除该文章, 是否继续?', '提示', {\r\n\t\t\t\tconfirmButtonText: '确定',\r\n\t\t\t\tcancelButtonText: '取消',\r\n\t\t\t\ttype: 'warning'\r\n\t\t\t\t}).then(() => {\r\n\t\t\t\t\tthis.delete_article(index,row)\r\n\t\t\t\t\t\r\n\t\t\t\t}).catch(() => {\r\n\t\t\t\t\tthis.$message({\r\n\t\t\t\t\t\ttype: 'info',\r\n\t\t\t\t\t\tmessage: '已取消删除'\r\n\t\t\t\t\t});          \r\n\t\t\t\t});\r\n\t\t},\r\n\t\tasync delete_article(index,row){\r\n\t\t\tlet params = {\r\n\t\t\t\tid:row.id\r\n\t\t\t}\r\n\t\t\tlet result\r\n\t\t\ttry {\r\n\t\t\t\tresult = await Article.article_delete(params)\r\n\t\t\t} catch (e) {\r\n\t\t\t\tconsole.log(e)\r\n\t\t\t}\r\n\t\t\tif(result.data.state == window.g.SUCCESS_STATE){\r\n\t\t\t\tthis.article_list_get()\r\n\t\t\t\tthis.$message({\r\n\t\t\t\t\ttype: 'success',\r\n\t\t\t\t\tmessage: '删除成功!'\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t}\n}\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\r\n.bc{\r\n\t\r\n\tmargin: 20px;\r\n\twidth: calc(100% - 40px);\r\n\tmargin-bottom: 0;\r\n}\nh3 {\n  margin: 40px 0 0;\n}\nul {\n  list-style-type: none;\n  padding: 0;\n}\nli {\n  display: inline-block;\n  margin: 0 10px;\n}\na {\n  color: #42b983;\n}\r\n.table{\r\n\tmargin: 20px;\r\n\twidth: calc(100% - 40px)!important;\r\n\t\r\n}\r\n::v-deep .pag{\r\n\tmargin-top: 40px;\r\n}\n</style>\n"]}]}