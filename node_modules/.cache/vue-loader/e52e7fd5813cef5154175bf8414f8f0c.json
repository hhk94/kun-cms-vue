{"remainingRequest":"D:\\code_by_hk\\kun-cms-vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\code_by_hk\\kun-cms-vue\\src\\pages\\Banner\\Banner.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\code_by_hk\\kun-cms-vue\\src\\pages\\Banner\\Banner.vue","mtime":1587802134734},{"path":"D:\\code_by_hk\\kun-cms-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\code_by_hk\\kun-cms-vue\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\code_by_hk\\kun-cms-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\code_by_hk\\kun-cms-vue\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQovLyBpbXBvcnQgeyBTdG9yYWdlIH0gZnJvbSAnQC9rdW4vdXRpbHMvc3RvcmFnZScNCi8vIHZhciBzdG9yYWdlID0gbmV3IFN0b3JhZ2UoKTsNCmltcG9ydCBDb25maWcgZnJvbSAnQC9jb25maWcnDQppbXBvcnQgQmFubmVyIGZyb20gJ0Ava3VuL2FwaS9iYW5uZXInDQpleHBvcnQgZGVmYXVsdCB7CgluYW1lOiAnQmFubmVyJywNCgkNCglkYXRhKCkgew0KCQlyZXR1cm4gew0KCQkJYmFubmVyX2xpc3Q6W10sDQoJCQliYW5uZXJfdHlwZV9saXN0OltdLA0KCQkJYWN0aW9uOidjbXMvYWRkX2Jhbm5lcl9pbWcnLC8v5LiK5Lyg5Zyw5Z2ADQoJCQlpbWFnZVVybDoiIiwvL3R1cOWbvueJh+i/lOWbnui3r+W+hA0KCQkJZm9ybTp7DQoJCQkJYmFubmVyX3R5cGVfaWQ6JycsDQoJCQkJaWQ6JycsDQoJCQkJYmFubmVyX25hbWU6JycsDQoJCQkJanVtcF91cmw6JycsDQoJCQkJYmFubmVyX2ltZ19pZDonJw0KCQkJfQ0KCQl9DQoJfSwNCgltZXRob2RzOiB7DQoJCWhhbmRsZUJhbm5lclN1Y2Nlc3MocmVzLCBmaWxlKSB7Ly/lpLTlg4/kuIrkvKDmiJDlip8NCgkJCXRoaXMuaW1hZ2VVcmwgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKGZpbGUucmF3KTsNCgkJCXRoaXMuZm9ybS5iYW5uZXJfaW1nX2lkID0gcmVzLmlkDQoJCX0sDQoJCWJlZm9yZUJhbm5lclVwbG9hZChmaWxlKSB7Ly/kuIrkvKDliY3mk43kvZwNCgkJCWNvbnN0IGlzSlBHID0gZmlsZS50eXBlID09PSAnaW1hZ2UvanBlZyc7DQoJCQljb25zdCBpc1BORyA9IGZpbGUudHlwZSA9PT0gJ2ltYWdlL3BuZyc7DQoJCQljb25zdCBpc0x0Mk0gPSBmaWxlLnNpemUgLyAxMDI0IC8gMTAyNCA8IDI7DQoJCQljb25zb2xlLmxvZyhmaWxlKQ0KCQkJaWYgKCFpc0pQRyYmIWlzUE5HKSB7DQoJCQkJdGhpcy4kbWVzc2FnZS5lcnJvcign5LiK5Lyg5aS05YOP5Zu+54mH5Y+q6IO95pivIEpQRy9QTkcg5qC85byPIScpOw0KCQkJfQ0KCQkJaWYgKCFpc0x0Mk0pIHsNCgkJCQl0aGlzLiRtZXNzYWdlLmVycm9yKCfkuIrkvKDlpLTlg4/lm77niYflpKflsI/kuI3og73otoXov4cgMk1CIScpOw0KCQkJfQ0KCQkJcmV0dXJuIGlzSlBHfHxpc1BORyAmJiBpc0x0Mk0gOw0KCQl9LA0KCQkNCgkJY2hlY2tfZm9ybSgpey8vZm9ybeaPkOS6pOWPguaVsOajgOa1iw0KCQkJaWYodGhpcy5mb3JtLmJhbm5lcl9uYW1lLmxlbmd0aD09MCl7DQoJCQkJdGhpcy4kbm90aWZ5KHsNCgkJCQkJdGl0bGU6ICfplJnor68nLA0KCQkJCQltZXNzYWdlOiAnYmFubmVy5ZCN5LiN6IO95Li656m6JywNCgkJCQkJdHlwZTonZXJyb3InDQoJCQkJfSk7DQoJCQkJcmV0dXJuIGZhbHNlOw0KCQkJfWVsc2UgaWYodGhpcy5mb3JtLmJhbm5lcl90eXBlX2lkLmxlbmd0aD09MCl7DQoJCQkJdGhpcy4kbm90aWZ5KHsNCgkJCQkJdGl0bGU6ICfplJnor68nLA0KCQkJCQltZXNzYWdlOiAnYmFubmVy57G75Yir5LiN6IO95Li656m6JywNCgkJCQkJdHlwZTonZXJyb3InDQoJCQkJfSk7DQoJCQkJcmV0dXJuIGZhbHNlOw0KCQkJfWVsc2UgaWYodGhpcy5mb3JtLmp1bXBfdXJsLmxlbmd0aD09MCl7DQoJCQkJdGhpcy4kbm90aWZ5KHsNCgkJCQkJdGl0bGU6ICfplJnor68nLA0KCQkJCQltZXNzYWdlOiAnYmFubmVy6Lez6L2sdXJs5LiN6IO95Li656m6JywNCgkJCQkJdHlwZTonZXJyb3InDQoJCQkJfSk7DQoJCQkJcmV0dXJuIGZhbHNlOw0KCQkJfWVsc2UgaWYodGhpcy5mb3JtLmJhbm5lcl9pbWdfaWQubGVuZ3RoPT0wKXsNCgkJCQl0aGlzLiRub3RpZnkoew0KCQkJCQl0aXRsZTogJ+mUmeivrycsDQoJCQkJCW1lc3NhZ2U6ICflm77niYfmnKrkuIrkvKAnLA0KCQkJCQl0eXBlOidlcnJvcicNCgkJCQl9KTsNCgkJCQlyZXR1cm4gZmFsc2U7DQoJCQl9DQoJCQlyZXR1cm4gdHJ1ZTsNCgkJfSwNCgkJY2xlYXIoKXsvL+a4heepuuW3puS+p+e8lui+keaVsOaNrg0KCQkJdGhpcy5mb3JtLmJhbm5lcl90eXBlX2lkID0gJycNCgkJCXRoaXMuZm9ybS5pZCA9ICcnDQoJCQl0aGlzLmZvcm0uYmFubmVyX25hbWUgPSAnJw0KCQkJdGhpcy5mb3JtLmp1bXBfdXJsID0gJycNCgkJCXRoaXMuZm9ybS5iYW5uZXJfaW1nX2lkID0gJycNCgkJCXRoaXMuaW1hZ2VVcmwgPSAnJw0KCQl9LA0KCQlhc3luYyBzdWJtaXQoKXsvL+W3puS+p+aPkOS6pA0KCQkJbGV0IGNoZWNrID0gdGhpcy5jaGVja19mb3JtKCkNCgkJCWNvbnNvbGUubG9nKHRoaXMuZm9ybSkNCgkJCS8vIHJldHVybiA7Lg0KCQkJaWYoY2hlY2spew0KCQkJCWxldCByZXN1bHQNCgkJCQl0cnl7DQoJCQkJCXJlc3VsdCA9IGF3YWl0IEJhbm5lci5iYW5lbnJfYWRkKHRoaXMuZm9ybSkNCgkJCQl9Y2F0Y2goZSl7DQoJCQkJCS8vVE9ETyBoYW5kbGUgdGhlIGV4Y2VwdGlvbg0KCQkJCX0NCgkJCQlpZihyZXN1bHQuZGF0YS5zdGF0ZT09d2luZG93LmcuU1VDQ0VTU19TVEFURSl7DQoJCQkJCWNvbnNvbGUubG9nKHJlc3VsdCkNCgkJCQkJdGhpcy5mb3JtLmlkID0gcmVzdWx0LmRhdGEuZGF0YS5pZA0KCQkJCQl0aGlzLiRub3RpZnkoew0KCQkJCQkJdGl0bGU6ICfmj5DnpLonLA0KCQkJCQkJbWVzc2FnZTogcmVzdWx0LmRhdGEubXNnLA0KCQkJCQkJdHlwZTonc3VjY2VzcycNCgkJCQkJfSk7DQoJCQkJCXRoaXMuYmFubmVyX2xpc3RfZ2V0KCkNCgkJCQkJdGhpcy5jbGVhcigpDQoJCQkJfQ0KCQkJfQ0KCQl9LA0KCQlhc3luYyBiYW5uZXJfbGlzdF9nZXQoKXsvL+iOt+WPlmJhbm5lcuWIl+ihqA0KCQkJbGV0IGRhdGEgPSB7DQoJCQkJYmFubmVyX3R5cGVfaWQ6JycNCgkJCX0NCgkJCWxldCByZXN1bHQNCgkJCXRyeSB7DQoJCQkJcmVzdWx0ID0gYXdhaXQgQmFubmVyLmJhbm5lcl9saXN0X2dldChkYXRhKQ0KCQkJfSBjYXRjaCAoZSkgew0KCQkJCWNvbnNvbGUubG9nKGUpDQoJCQl9DQoJCQlpZihyZXN1bHQuZGF0YS5zdGF0ZT09d2luZG93LmcuU1VDQ0VTU19TVEFURSl7DQoJCQkJdGhpcy5iYW5uZXJfbGlzdCA9IHJlc3VsdC5kYXRhLmRhdGENCgkJCX0NCgkJfSwNCgkJYXN5bmMgYmFubmVyX3R5cGVfbGlzdF9nZXQoKXsvL+iOt+WPlmJhbm5lcuexu+WIq+WIl+ihqA0KCQkJbGV0IHJlc3VsdA0KCQkJdHJ5IHsNCgkJCQlyZXN1bHQgPSBhd2FpdCBCYW5uZXIuYmFubmVyX3R5cGVfbGlzdF9nZXQoKQ0KCQkJfSBjYXRjaCAoZSkgew0KCQkJCWNvbnNvbGUubG9nKGUpDQoJCQl9DQoJCQlpZihyZXN1bHQuZGF0YS5zdGF0ZT09d2luZG93LmcuU1VDQ0VTU19TVEFURSl7DQoJCQkJY29uc29sZS5sb2cocmVzdWx0KQ0KCQkJCXRoaXMuYmFubmVyX3R5cGVfbGlzdCA9IHJlc3VsdC5kYXRhLmRhdGENCgkJCX0NCgkJfSwNCgkJaGFuZGxlRWRpdChyb3cpey8veOS/ruaUuQ0KCQkJdGhpcy5mb3JtLmJhbm5lcl90eXBlX2lkID0gcm93LmJhbm5lcl90eXBlLmlkDQoJCQl0aGlzLmZvcm0uaWQgPSByb3cuaWQNCgkJCXRoaXMuZm9ybS5iYW5uZXJfbmFtZSA9IHJvdy5iYW5uZXJfbmFtZQ0KCQkJdGhpcy5mb3JtLmp1bXBfdXJsID0gcm93Lmp1bXBfdXJsDQoJCQl0aGlzLmZvcm0uYmFubmVyX2ltZ19pZCA9ICcnDQoJCQl0aGlzLmltYWdlVXJsID0gcm93LmJhbm5lcl9pbWdfdXJsDQoJCQl0aGlzLiRub3RpZnkoew0KCQkJCXRpdGxlOiAn5o+Q56S6JywNCgkJCQltZXNzYWdlOiAn6K+35Zyo5LiK5pa55L+u5pS55L2g6YCJ5Lit55qEYmFubmVyJw0KCQkJfSk7DQoJCX0sDQoJCWFzeW5jIGRlbGV0ZV90eXBlKHJvdyl7DQoJCQlsZXQgZGF0YSA9IHsNCgkJCQlpZDpyb3cuaWQNCgkJCX0NCgkJCWxldCByZXN1bHQNCgkJCXRyeSB7DQoJCQkJcmVzdWx0ID0gYXdhaXQgQmFubmVyLmJhbm5lcl9pdGVtX2RlbGV0ZShkYXRhKQ0KCQkJfSBjYXRjaCAoZSkgew0KCQkJCWNvbnNvbGUubG9nKGUpDQoJCQl9DQoJCQlpZihyZXN1bHQuZGF0YS5zdGF0ZT09d2luZG93LmcuU1VDQ0VTU19TVEFURSl7DQoJCQkJdGhpcy4kbm90aWZ5KHsNCgkJCQkJdGl0bGU6ICfmj5DnpLonLA0KCQkJCQltZXNzYWdlOiByZXN1bHQuZGF0YS5tc2csDQoJCQkJCXR5cGU6J3N1Y2Nlc3MnDQoJCQkJfSk7DQoJCQkJdGhpcy5iYW5uZXJfbGlzdF9nZXQoKQ0KCQkJfQ0KCQl9LA0KCQloYW5kbGVEZWxldGUocm93KXsNCgkJCXRoaXMuJGNvbmZpcm0oJ+atpOaTjeS9nOWwhuawuOS5heWIoOmZpOivpWJhbm5lciwg5piv5ZCm57un57utPycsICfmj5DnpLonLCB7DQoJCQkJY29uZmlybUJ1dHRvblRleHQ6ICfnoa7lrponLA0KCQkJCWNhbmNlbEJ1dHRvblRleHQ6ICflj5bmtognLA0KCQkJCXR5cGU6ICd3YXJuaW5nJw0KCQkJCX0pLnRoZW4oKCkgPT4gew0KCQkJCQl0aGlzLmRlbGV0ZV90eXBlKHJvdykNCgkJCQkJDQoJCQkJfSkuY2F0Y2goKCkgPT4gew0KCQkJCQl0aGlzLiRtZXNzYWdlKHsNCgkJCQkJCXR5cGU6ICdpbmZvJywNCgkJCQkJCW1lc3NhZ2U6ICflt7Llj5bmtojliKDpmaQnDQoJCQkJCX0pOyAgICAgICAgICANCgkJCQl9KTsNCgkJfQ0KCQkNCgl9LAoJbW91bnRlZCgpIHsNCgkJdGhpcy5hY3Rpb24gPSBDb25maWcuYmFzZVVSTCArIHRoaXMuYWN0aW9uDQoJCXRoaXMuYmFubmVyX2xpc3RfZ2V0KCkNCgkJdGhpcy5iYW5uZXJfdHlwZV9saXN0X2dldCgpDQoJfQp9Cg=="},{"version":3,"sources":["Banner.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0IA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Banner.vue","sourceRoot":"src/pages/Banner","sourcesContent":["<template>\n\t<div class=\"user\" >\r\n\t\t<el-breadcrumb separator=\"/\" class=\"bc\">\r\n\t\t\t<el-breadcrumb-item>banner相关</el-breadcrumb-item>\r\n\t\t\t<el-breadcrumb-item>banner设置</el-breadcrumb-item>\r\n\t\t</el-breadcrumb>\r\n\t\t<div class=\"center\">\r\n\t\t\t\r\n\t\t\t<div class=\"center-item\">\r\n\t\t\t\t<h1 class=\"title\">banner添加</h1>\r\n\t\t\t\t<div class=\"form-input\">\r\n\t\t\t\t\t<div class=\"form-item\">\r\n\t\t\t\t\t\t<div class=\"input-body\">\r\n\t\t\t\t\t\t\tid：\r\n\t\t\t\t\t\t\t<el-input\r\n\t\t\t\t\t\t\tdisabled\r\n\t\t\t\t\t\t\tv-model=\"form.id\"\r\n\t\t\t\t\t\t\tsuffix-icon=\"el-icon-mouse\"\r\n\t\t\t\t\t\t\tclearable\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t</el-input>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div class=\"input-body\">\r\n\t\t\t\t\t\t\tbanner-name：\r\n\t\t\t\t\t\t\t<el-input\r\n\t\t\t\t\t\t\tv-model=\"form.banner_name\"\r\n\t\t\t\t\t\t\tsuffix-icon=\"el-icon-mouse\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t</el-input>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<div class=\"input-body\">\r\n\t\t\t\t\t\t\t跳转url：\r\n\t\t\t\t\t\t\t<el-input\r\n\t\t\t\t\t\t\tv-model=\"form.jump_url\"\r\n\t\t\t\t\t\t\tsuffix-icon=\"el-icon-mouse\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<template slot=\"prepend\">Http://</template>\r\n\t\t\t\t\t\t\t</el-input>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"form-item\">\r\n\t\t\t\t\t\t<div class=\"input-body\">\r\n\t\t\t\t\t\t\tbanner-类别：\r\n\t\t\t\t\t\t\t<el-select v-model=\"form.banner_type_id\" placeholder=\"请选择\">\r\n\t\t\t\t\t\t\t<el-option\r\n\t\t\t\t\t\t\tv-for=\"item in banner_type_list\"\r\n\t\t\t\t\t\t\t:key=\"item.id\"\r\n\t\t\t\t\t\t\t:label=\"item.typename\"\r\n\t\t\t\t\t\t\t:value=\"item.id\">\r\n\t\t\t\t\t\t\t</el-option>\r\n\t\t\t\t\t\t\t</el-select>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div class=\"avatar-body\">\r\n\t\t\t\t\t\t\t<div>banner-image：</div>\r\n\t\t\t\t\t\t\t<el-upload\r\n\t\t\t\t\t\t\tclass=\"avatar-uploader\"\r\n\t\t\t\t\t\t\t:action=\"this.action\"\r\n\t\t\t\t\t\t\t:show-file-list=\"false\"\r\n\t\t\t\t\t\t\t:on-success=\"handleBannerSuccess\"\r\n\t\t\t\t\t\t\t:before-upload=\"beforeBannerUpload\">\r\n\t\t\t\t\t\t\t<img v-if=\"imageUrl\" :src=\"imageUrl\" class=\"avatar\">\r\n\t\t\t\t\t\t\t<i v-else class=\"el-icon-plus avatar-uploader-icon\"></i>\r\n\t\t\t\t\t\t\t</el-upload>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t\r\n\t\t\t\t<div class=\"submit\" >\r\n\t\t\t\t\t<el-button  type=\"primary\" plain @click=\"clear()\">清空编辑</el-button>\r\n\t\t\t\t\t<el-button  type=\"primary\" plain @click=\"submit()\">提交/修改</el-button>\r\n\t\t\t\t</div>\r\n\t\t\t\t\r\n\t\t\t</div>\r\n\t\t\t<div class=\"center-table\">\r\n\t\t\t\t<el-table\r\n\t\t\t\t:data=\"banner_list\"\r\n\t\t\t\tstyle=\"width: 100%\"\r\n\t\t\t\tmax-height=\"270\">\r\n\t\t\t\t<el-table-column\r\n\t\t\t\tfixed\r\n\t\t\t\tprop=\"id\"\r\n\t\t\t\tlabel=\"id\"\r\n\t\t\t\twidth=\"50\">\r\n\t\t\t\t</el-table-column>\r\n\t\t\t\t<el-table-column\r\n\t\t\t\t\r\n\t\t\t\tprop=\"banner_name\"\r\n\t\t\t\tlabel=\"banner描述\"\r\n\t\t\t\twidth=\"200\">\r\n\t\t\t\t</el-table-column>\r\n\t\t\t\t<el-table-column\r\n\t\t\t\t\r\n\t\t\t\tprop=\"jump_url\"\r\n\t\t\t\tlabel=\"跳转路径\"\r\n\t\t\t\twidth=\"\">\r\n\t\t\t\t</el-table-column>\r\n\t\t\t\t<el-table-column\r\n\t\t\t\tprop=\"banner_img_url\"\r\n\t\t\t\tlabel=\"缩略图\"\r\n\t\t\t\twidth=\"\">\r\n\t\t\t\t\t<template slot-scope=\"scope\">\r\n\t\t\t\t\t\t<img :src=\"scope.row.banner_img_url\" alt=\"\" class=\"img-banner\">\r\n\t\t\t\t\t</template>\r\n\t\t\t\t</el-table-column>\r\n\t\t\t\t<el-table-column\r\n\t\t\t\tprop=\"banner_type\"\r\n\t\t\t\tlabel=\"banner类别\"\r\n\t\t\t\twidth=\"200\">\r\n\t\t\t\t\t<template slot-scope=\"scope\">\r\n\t\t\t\t\t\t<el-tag\r\n\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\tdisable-transitions>{{scope.row.banner_type.typename}}</el-tag>\r\n\t\t\t\t\t</template>\r\n\t\t\t\t</el-table-column>\r\n\t\t\t\t\r\n\t\t\t\t<el-table-column\r\n\t\t\t\tfixed=\"right\"\r\n\t\t\t\tlabel=\"操作\"\r\n\t\t\t\twidth=\"150\">\r\n\t\t\t\t<template slot-scope=\"scope\">\r\n\t\t\t\t\t<el-button\r\n\t\t\t\t\tsize=\"mini\"\r\n\t\t\t\t\t@click=\"handleEdit(scope.row)\">编辑</el-button>\r\n\t\t\t\t\t<el-button\r\n\t\t\t\t\tsize=\"mini\"\r\n\t\t\t\t\ttype=\"danger\"\r\n\t\t\t\t\t@click=\"handleDelete(scope.row)\">删除</el-button>\r\n\t\t\t\t</template>\r\n\t\t\t\t</el-table-column>\r\n\t\t\t\t</el-table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\n</template>\n\n<script>\r\n// import { Storage } from '@/kun/utils/storage'\r\n// var storage = new Storage();\r\nimport Config from '@/config'\r\nimport Banner from '@/kun/api/banner'\r\nexport default {\n\tname: 'Banner',\r\n\t\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tbanner_list:[],\r\n\t\t\tbanner_type_list:[],\r\n\t\t\taction:'cms/add_banner_img',//上传地址\r\n\t\t\timageUrl:\"\",//tup图片返回路径\r\n\t\t\tform:{\r\n\t\t\t\tbanner_type_id:'',\r\n\t\t\t\tid:'',\r\n\t\t\t\tbanner_name:'',\r\n\t\t\t\tjump_url:'',\r\n\t\t\t\tbanner_img_id:''\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\tmethods: {\r\n\t\thandleBannerSuccess(res, file) {//头像上传成功\r\n\t\t\tthis.imageUrl = URL.createObjectURL(file.raw);\r\n\t\t\tthis.form.banner_img_id = res.id\r\n\t\t},\r\n\t\tbeforeBannerUpload(file) {//上传前操作\r\n\t\t\tconst isJPG = file.type === 'image/jpeg';\r\n\t\t\tconst isPNG = file.type === 'image/png';\r\n\t\t\tconst isLt2M = file.size / 1024 / 1024 < 2;\r\n\t\t\tconsole.log(file)\r\n\t\t\tif (!isJPG&&!isPNG) {\r\n\t\t\t\tthis.$message.error('上传头像图片只能是 JPG/PNG 格式!');\r\n\t\t\t}\r\n\t\t\tif (!isLt2M) {\r\n\t\t\t\tthis.$message.error('上传头像图片大小不能超过 2MB!');\r\n\t\t\t}\r\n\t\t\treturn isJPG||isPNG && isLt2M ;\r\n\t\t},\r\n\t\t\r\n\t\tcheck_form(){//form提交参数检测\r\n\t\t\tif(this.form.banner_name.length==0){\r\n\t\t\t\tthis.$notify({\r\n\t\t\t\t\ttitle: '错误',\r\n\t\t\t\t\tmessage: 'banner名不能为空',\r\n\t\t\t\t\ttype:'error'\r\n\t\t\t\t});\r\n\t\t\t\treturn false;\r\n\t\t\t}else if(this.form.banner_type_id.length==0){\r\n\t\t\t\tthis.$notify({\r\n\t\t\t\t\ttitle: '错误',\r\n\t\t\t\t\tmessage: 'banner类别不能为空',\r\n\t\t\t\t\ttype:'error'\r\n\t\t\t\t});\r\n\t\t\t\treturn false;\r\n\t\t\t}else if(this.form.jump_url.length==0){\r\n\t\t\t\tthis.$notify({\r\n\t\t\t\t\ttitle: '错误',\r\n\t\t\t\t\tmessage: 'banner跳转url不能为空',\r\n\t\t\t\t\ttype:'error'\r\n\t\t\t\t});\r\n\t\t\t\treturn false;\r\n\t\t\t}else if(this.form.banner_img_id.length==0){\r\n\t\t\t\tthis.$notify({\r\n\t\t\t\t\ttitle: '错误',\r\n\t\t\t\t\tmessage: '图片未上传',\r\n\t\t\t\t\ttype:'error'\r\n\t\t\t\t});\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\treturn true;\r\n\t\t},\r\n\t\tclear(){//清空左侧编辑数据\r\n\t\t\tthis.form.banner_type_id = ''\r\n\t\t\tthis.form.id = ''\r\n\t\t\tthis.form.banner_name = ''\r\n\t\t\tthis.form.jump_url = ''\r\n\t\t\tthis.form.banner_img_id = ''\r\n\t\t\tthis.imageUrl = ''\r\n\t\t},\r\n\t\tasync submit(){//左侧提交\r\n\t\t\tlet check = this.check_form()\r\n\t\t\tconsole.log(this.form)\r\n\t\t\t// return ;.\r\n\t\t\tif(check){\r\n\t\t\t\tlet result\r\n\t\t\t\ttry{\r\n\t\t\t\t\tresult = await Banner.banenr_add(this.form)\r\n\t\t\t\t}catch(e){\r\n\t\t\t\t\t//TODO handle the exception\r\n\t\t\t\t}\r\n\t\t\t\tif(result.data.state==window.g.SUCCESS_STATE){\r\n\t\t\t\t\tconsole.log(result)\r\n\t\t\t\t\tthis.form.id = result.data.data.id\r\n\t\t\t\t\tthis.$notify({\r\n\t\t\t\t\t\ttitle: '提示',\r\n\t\t\t\t\t\tmessage: result.data.msg,\r\n\t\t\t\t\t\ttype:'success'\r\n\t\t\t\t\t});\r\n\t\t\t\t\tthis.banner_list_get()\r\n\t\t\t\t\tthis.clear()\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tasync banner_list_get(){//获取banner列表\r\n\t\t\tlet data = {\r\n\t\t\t\tbanner_type_id:''\r\n\t\t\t}\r\n\t\t\tlet result\r\n\t\t\ttry {\r\n\t\t\t\tresult = await Banner.banner_list_get(data)\r\n\t\t\t} catch (e) {\r\n\t\t\t\tconsole.log(e)\r\n\t\t\t}\r\n\t\t\tif(result.data.state==window.g.SUCCESS_STATE){\r\n\t\t\t\tthis.banner_list = result.data.data\r\n\t\t\t}\r\n\t\t},\r\n\t\tasync banner_type_list_get(){//获取banner类别列表\r\n\t\t\tlet result\r\n\t\t\ttry {\r\n\t\t\t\tresult = await Banner.banner_type_list_get()\r\n\t\t\t} catch (e) {\r\n\t\t\t\tconsole.log(e)\r\n\t\t\t}\r\n\t\t\tif(result.data.state==window.g.SUCCESS_STATE){\r\n\t\t\t\tconsole.log(result)\r\n\t\t\t\tthis.banner_type_list = result.data.data\r\n\t\t\t}\r\n\t\t},\r\n\t\thandleEdit(row){//x修改\r\n\t\t\tthis.form.banner_type_id = row.banner_type.id\r\n\t\t\tthis.form.id = row.id\r\n\t\t\tthis.form.banner_name = row.banner_name\r\n\t\t\tthis.form.jump_url = row.jump_url\r\n\t\t\tthis.form.banner_img_id = ''\r\n\t\t\tthis.imageUrl = row.banner_img_url\r\n\t\t\tthis.$notify({\r\n\t\t\t\ttitle: '提示',\r\n\t\t\t\tmessage: '请在上方修改你选中的banner'\r\n\t\t\t});\r\n\t\t},\r\n\t\tasync delete_type(row){\r\n\t\t\tlet data = {\r\n\t\t\t\tid:row.id\r\n\t\t\t}\r\n\t\t\tlet result\r\n\t\t\ttry {\r\n\t\t\t\tresult = await Banner.banner_item_delete(data)\r\n\t\t\t} catch (e) {\r\n\t\t\t\tconsole.log(e)\r\n\t\t\t}\r\n\t\t\tif(result.data.state==window.g.SUCCESS_STATE){\r\n\t\t\t\tthis.$notify({\r\n\t\t\t\t\ttitle: '提示',\r\n\t\t\t\t\tmessage: result.data.msg,\r\n\t\t\t\t\ttype:'success'\r\n\t\t\t\t});\r\n\t\t\t\tthis.banner_list_get()\r\n\t\t\t}\r\n\t\t},\r\n\t\thandleDelete(row){\r\n\t\t\tthis.$confirm('此操作将永久删除该banner, 是否继续?', '提示', {\r\n\t\t\t\tconfirmButtonText: '确定',\r\n\t\t\t\tcancelButtonText: '取消',\r\n\t\t\t\ttype: 'warning'\r\n\t\t\t\t}).then(() => {\r\n\t\t\t\t\tthis.delete_type(row)\r\n\t\t\t\t\t\r\n\t\t\t\t}).catch(() => {\r\n\t\t\t\t\tthis.$message({\r\n\t\t\t\t\t\ttype: 'info',\r\n\t\t\t\t\t\tmessage: '已取消删除'\r\n\t\t\t\t\t});          \r\n\t\t\t\t});\r\n\t\t}\r\n\t\t\r\n\t},\n\tmounted() {\r\n\t\tthis.action = Config.baseURL + this.action\r\n\t\tthis.banner_list_get()\r\n\t\tthis.banner_type_list_get()\r\n\t}\n}\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped lang=\"scss\">\r\n.user{\r\n\t.bc{\r\n\t\t\r\n\t\tmargin: 20px;\r\n\t\twidth: calc(100% - 40px);\r\n\t\tmargin-bottom: 0;\r\n\t}\r\n\t.center{\r\n\t\t\r\n\t\t.center-item{\r\n\t\t\twidth: 100%;\r\n\t\t\tpadding: 30px;\r\n\t\t\tbox-sizing: border-box;\r\n\t\t\t.input-body{\r\n\t\t\t\twidth: 80%;\r\n\t\t\t\tmargin: 0 auto;\r\n\t\t\t\ttext-align: left;\r\n\t\t\t\tmargin-bottom: 20px;\r\n\t\t\t\t::v-deep .el-input{\r\n\t\t\t\t\tmargin-top: 10px;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t.submit{\r\n\t\t\t\twidth:fit-content;\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\tmargin: 0 auto;\r\n\t\t\t}\r\n\t\t}\r\n\t\t.center-table{\r\n\t\t\tpadding:0 20px;\r\n\t\t}\r\n\t}\r\n\t.form-input{\r\n\t\tdisplay: flex;\r\n\t\t.form-item{\r\n\t\t\twidth: 50%;\r\n\t\t\ttext-align: left;\r\n\t\t}\r\n\t}\r\n}\n.avatar-body{\r\n\twidth: 80%;\r\n\tmargin: 0 auto;\r\n\tmargin-top: 40px;\r\n\tdisplay: flex;\r\n\t::v-deep .avatar-uploader .el-upload {\r\n\t\tborder: 1px dashed #d9d9d9;\r\n\t\tborder-radius: 6px;\r\n\t\tcursor: pointer;\r\n\t\tposition: relative;\r\n\t\toverflow: hidden;\r\n\t\twidth: 178px;\r\n\t\theight: 178px;\r\n\t}\r\n\t::v-deep .avatar-uploader .el-upload:hover {\r\n\t\tborder-color: #409EFF;\r\n\t}\r\n\t::v-deep .avatar-uploader-icon {\r\n\t\tfont-size: 28px;\r\n\t\tcolor: #8c939d;\r\n\t\twidth: 178px;\r\n\t\theight: 178px;\r\n\t\tline-height: 178px;\r\n\t\ttext-align: center;\r\n\t}\r\n\t::v-deep .avatar {\r\n\t\twidth: fit-content;\r\n\t\tdisplay: block;\r\n\t\t\r\n\t}\r\n}\r\n.img-banner{\r\n\twidth: 100px;\r\n}\r\n// /deep/.markdown-body img{\r\n// \tmax-width: 50%;\r\n// }\n</style>\n"]}]}